webpackJsonp([55],{"7SLg":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("oqQY"),i=a.n(s),r=a("ABCa"),n=a("/W8D"),o=a("rUbY"),d=a("MB7n"),l=a("cq2Q"),u=a("8pLc"),c=(r.a,n.a,o.a,l.a,u.a,{data:function(){return{title:d.a[0].title,total:0,dataList:[],startDate:"",endDate:"",queryType:1,unit:"个",url:d.c[0].url,defaultDate:{beginDate:"",endDate:""},selUserId:this.$store.state.CurrentUserID,stateIndex:0,sourceList:d.b}},created:function(){this.$store.state.isMyClient=!1,this.defaultDate.beginDate=i()().startOf("month").format("YYYY-MM-DD"),this.defaultDate.endDate=i()().format("YYYY-MM-DD"),this.startDate=this.dateFormat(i()().startOf("month"),!0),this.endDate=this.dateFormat(),this.getData()},methods:{getData:function(){var t=this;this.$vux.loading.show({text:"加载中"}),this.getAxios(this.url,{startDate:this.startDate,endDate:this.endDate,queryType:this.queryType,selUserId:this.selUserId}).then(function(e){t.$vux.loading.hide(),t.dataList=e.Data.List,t.total=e.Data.TotalCount}).catch(function(e){t.$vux.loading.hide()})},dateFormat:function(t,e){return e?(t?i()(t).format("YYYY-MM-DD"):i()().format("YYYY-MM-DD"))+" 00:00:00":(t?i()(t).add(1,"day").format("YYYY-MM-DD"):i()().add(1,"day").format("YYYY-MM-DD"))+" 00:00:00"},statClick:function(t){1===t.type?(this.unit=d.a[t.index].unit,this.queryType=d.a[t.index].id,this.title=d.a[t.index].title):(this.url=d.c[t.index].url,this.stateIndex=t.index),this.getData()},dateQuery:function(t){var e=t.beginDate,a=t.endDate;this.startDate=this.dateFormat(e,!0),this.endDate=this.dateFormat(a),this.getData()},goto:function(t){var e=this.queryType>3?this.queryType>5?"汇款":"订单":"";this.$router.push({path:"/classify/statDetail",query:{sIndex:this.stateIndex,queryType:this.queryType,param:t,startDate:this.startDate,endDate:this.endDate,name:e,selUserId:this.selUserId}})},selectedUser:function(t){this.selUserId=t,this.getData()}},filters:{ratio:function(t,e){return parseFloat((t/e*100).toFixed(2))},sourceToStr:function(t,e){try{return 5==e?d.b[t-1].value:t}catch(t){}}},components:{XHeader:r.a,EProgress:n.a,Query:o.a,Scroll:l.a,NoData:u.a}}),h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide"}},[a("div",{staticClass:"classify"},[a("x-header",[t._v("分类统计")]),t._v(" "),a("query",{attrs:{isClass:!1,isStatType:!0,isStatState:!0,isClearDateBtn:!1,formatDate:"YYYY-MM-DD",defaultDate:t.defaultDate},on:{selectedUser:t.selectedUser,statClick:t.statClick,dateQuery:t.dateQuery}}),t._v(" "),a("div",[a("scroll",{attrs:{background:"#fff"}},[a("h3",[t._v(t._s(t.title)+" 总计："+t._s(t.total)+t._s(t.unit))]),t._v(" "),t._l(t.dataList,function(e,s){return a("div",{key:s,staticClass:"flex list_cloumn",staticStyle:{"text-align":"center"}},[a("div",{staticClass:"flex-2"},[a("p",[t._v(t._s(t._f("sourceToStr")(e.Key,t.stateIndex)))]),t._v(" "),a("p",{staticStyle:{"font-size":"12px"}},[t._v(t._s(e.Value)+t._s(t.unit))])]),t._v(" "),a("div",{staticClass:"flex-5"},[a("e-progress",{attrs:{height:"20px",percentage:t._f("ratio")(e.Value,t.total)},nativeOn:{click:function(a){t.goto(e.ID)}}})],1)])}),t._v(" "),0==t.dataList.length?a("no-data"):t._e()],2)],1),t._v(" "),a("router-view",{staticStyle:{position:"fixed",top:"0",bottom:"0","z-index":"502",left:"0",right:"0",background:"#fff"}})],1)])},staticRenderFns:[]};var D=a("VU/8")(c,h,!1,function(t){a("ZMPM")},"data-v-2050baac",null);e.default=D.exports},ZMPM:function(t,e){}});
//# sourceMappingURL=55.18883e93204a6c1ed65f.js.map