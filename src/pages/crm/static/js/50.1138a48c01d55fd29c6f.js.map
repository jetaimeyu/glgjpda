{"version":3,"sources":["webpack:///./src/common/js/gps.js","webpack:///./src/views/check/CheckDetails.vue","webpack:///./src/views/check/CheckDetails.vue?1620","webpack:///./src/views/check/CheckDetails.vue?277c"],"names":["gps","PI","x_pi","delta","lat","lng","a","ee","dLat","this","transformLat","dLng","transformLng","radLat","magic","Math","sin","sqrtMagic","sqrt","cos","gcj_encrypt","wgsLat","wgsLng","outOfChina","d","gcj_decrypt","gcjLat","gcjLng","gcj_decrypt_exact","mLat","mLng","pLat","pLng","i","tmp","abs","bd_encrypt","x","y","z","theta","atan2","bdLng","bd_decrypt","bdLat","mercator_encrypt","log","tan","mercator_decrypt","mercatorLat","mercatorLng","atan","exp","distance","latA","lngA","latB","lngB","s","acos","ret","check_CheckDetails","picBack","x_header","group","cell","grid","grid_item","previewer","x_button","name","mixins","components","XHeader","Group","Cell","Grid","GridItem","Previewer","XButton","data","cid","checkData","currentPoint","showImgFile","options","saveImg","el","console","filters","picUrl","path","w","arguments","length","undefined","h","api50","mounted","_this2","$route","query","getCheckDetail","backIndex","document","addEventListener","getLocation","plus","key","removeEventListener","ws","webview","currentWebview","close","methods","back","$router","gotoMap","_dst","MapLat","MapLng","__dst","dst","maps","Point","src","coords","longitude","latitude","openSysMap","showMap","map","BMap","Map","point","marker","Marker","circle","Circle","strokeColor","strokeWeight","strokeOpacity","addOverlay","centerAndZoom","setMap","location","_this3","_url","Axios","get","then","res","Data","ImageAttach","item","push","FilePath","imgShow","index","$refs","show","geoLngLatToBaidu","coordtype","url","promise_default","resolve","reject","jsonp","err","error","message","status","result","geoDeCoder","_lat","_lng","_coordtype","country","addressComponent","province","city","district","address","street","sematic_description","_this","os","geolocation","getCurrentPosition","coordsType","_res","__res","catch","stringify_default","e","alert","provider","geocode","views_check_CheckDetails","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","left-options","backText","preventGoBack","on","on-click-back","_v","id","value","SigninTime","primary","_s","Address","CustomerName","directives","rawName","expression","_l","_f","click","$event","imgShowPic","staticStyle","padding","type","nativeOn","ref","list","on-close","closePic","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/50.1138a48c01d55fd29c6f.js","sourcesContent":["var GPS = {\r\n  PI: 3.14159265358979324,\r\n  x_pi: 3.14159265358979324 * 3000.0 / 180.0,\r\n  delta: function(lat, lng) {\r\n    var a = 6378245.0; //  a: 卫星椭球坐标投影到平面地图坐标系的投影因子。\r\n    var ee = 0.00669342162296594323; //  ee: 椭球的偏心率。\r\n    var dLat = this.transformLat(lng - 105.0, lat - 35.0);\r\n    var dLng = this.transformLng(lng - 105.0, lat - 35.0);\r\n    var radLat = lat / 180.0 * this.PI;\r\n    var magic = Math.sin(radLat);\r\n    magic = 1 - ee *                                                                               magic * magic;\r\n    var sqrtMagic = Math.sqrt(magic);\r\n    dLat = (dLat * 180.0) / ((a * (1 - ee)) / (magic * sqrtMagic) * this.PI);\r\n    dLng = (dLng * 180.0) / (a / sqrtMagic * Math.cos(radLat) * this.PI);\r\n    return {\r\n      'lat': dLat,\r\n      'lng': dLng\r\n    };\r\n  },\r\n  //WGS-84 to GCJ-02\r\n  gcj_encrypt: function(wgsLat, wgsLng) {\r\n    if(this.outOfChina(wgsLat, wgsLng))\r\n      return {\r\n        'lat': wgsLat,\r\n        'lng': wgsLng\r\n      };\r\n\r\n    var d = this.delta(wgsLat, wgsLng);\r\n    return {\r\n      'lat': wgsLat + d.lat,\r\n      'lng': wgsLng + d.lng\r\n    };\r\n  },\r\n  //GCJ-02 to WGS-84\r\n  gcj_decrypt: function(gcjLat, gcjLng) {\r\n    if(this.outOfChina(gcjLat, gcjLng))\r\n      return {\r\n        'lat': gcjLat,\r\n        'lng': gcjLng\r\n      };\r\n\r\n    var d = this.delta(gcjLat, gcjLng);\r\n    return {\r\n      'lat': gcjLat - d.lat,\r\n      'lng': gcjLng - d.lng\r\n    };\r\n  },\r\n  //GCJ-02 to WGS-84 exactly\r\n  gcj_decrypt_exact: function(gcjLat, gcjLng) {\r\n    var initDelta = 0.01;\r\n    var threshold = 0.000000001;\r\n    var dLat = initDelta,\r\n      dLng = initDelta;\r\n    var mLat = gcjLat - dLat,\r\n      mLng = gcjLng - dLng;\r\n    var pLat = gcjLat + dLat,\r\n      pLng = gcjLng + dLng;\r\n    var wgsLat, wgsLng, i = 0;\r\n    while(1) {\r\n      wgsLat = (mLat + pLat) / 2;\r\n      wgsLng = (mLng + pLng) / 2;\r\n      var tmp = this.gcj_encrypt(wgsLat, wgsLng);\r\n      dLat = tmp.lat - gcjLat;\r\n      dLng = tmp.lng - gcjLng;\r\n      if((Math.abs(dLat) < threshold) && (Math.abs(dLng) < threshold))\r\n        break;\r\n\r\n      if(dLat > 0) pLat = wgsLat;\r\n      else mLat = wgsLat;\r\n      if(dLng > 0) pLng = wgsLng;\r\n      else mLng = wgsLng;\r\n\r\n      if(++i > 10000) break;\r\n    }\r\n    return {\r\n      'lat': wgsLat,\r\n      'lng': wgsLng\r\n    };\r\n  },\r\n  //GCJ-02 to BD-09\r\n  bd_encrypt: function(gcjLat, gcjLng) {\r\n    var x = gcjLng,\r\n      y = gcjLat;\r\n    var z = Math.sqrt(x * x + y * y) + 0.00002 * Math.sin(y * this.x_pi);\r\n    var theta = Math.atan2(y, x) + 0.000003 * Math.cos(x * this.x_pi);\r\n    var bdLng = z * Math.cos(theta) + 0.0065;\r\n    var bdLat = z * Math.sin(theta) + 0.006;\r\n    return {\r\n      'lat': bdLat,\r\n      'lng': bdLng\r\n    };\r\n  },\r\n  //BD-09 to GCJ-02\r\n  bd_decrypt: function(bdLat, bdLng) {\r\n    var x = bdLng - 0.0065,\r\n      y = bdLat - 0.006;\r\n    var z = Math.sqrt(x * x + y * y) - 0.00002 * Math.sin(y * this.x_pi);\r\n    var theta = Math.atan2(y, x) - 0.000003 * Math.cos(x * this.x_pi);\r\n    var gcjLng = z * Math.cos(theta);\r\n    var gcjLat = z * Math.sin(theta);\r\n    return {\r\n      'lat': gcjLat,\r\n      'lng': gcjLng\r\n    };\r\n  },\r\n  //WGS-84 to Web mercator\r\n  //mercatorLat -> y mercatorLng -> x\r\n  mercator_encrypt: function(wgsLat, wgsLng) {\r\n    var x = wgsLng * 20037508.34 / 180.;\r\n    var y = Math.log(Math.tan((90. + wgsLat) * this.PI / 360.)) / (this.PI / 180.);\r\n    y = y * 20037508.34 / 180.;\r\n    return {\r\n      'lat': y,\r\n      'lng': x\r\n    };\r\n    /*\r\n     if ((Math.abs(wgsLng) > 180 || Math.abs(wgsLat) > 90))\r\n     return null;\r\n     var x = 6378137.0 * wgsLng * 0.017453292519943295;\r\n     var a = wgsLat * 0.017453292519943295;\r\n     var y = 3189068.5 * Math.log((1.0 + Math.sin(a)) / (1.0 - Math.sin(a)));\r\n     return {'lat' : y, 'lng' : x};\r\n     //*/\r\n  },\r\n  // Web mercator to WGS-84\r\n  // mercatorLat -> y mercatorLng -> x\r\n  mercator_decrypt: function(mercatorLat, mercatorLng) {\r\n    var x = mercatorLng / 20037508.34 * 180.;\r\n    var y = mercatorLat / 20037508.34 * 180.;\r\n    y = 180 / this.PI * (2 * Math.atan(Math.exp(y * this.PI / 180.)) - this.PI / 2);\r\n    return {\r\n      'lat': y,\r\n      'lng': x\r\n    };\r\n  },\r\n  // two point's distance\r\n  distance: function(latA, lngA, latB, lngB) {\r\n    var earthR = 6371000.;\r\n    var x = Math.cos(latA * this.PI / 180.) * Math.cos(latB * this.PI / 180.) * Math.cos((lngA - lngB) * this.PI / 180);\r\n    var y = Math.sin(latA * this.PI / 180.) * Math.sin(latB * this.PI / 180.);\r\n    var s = x + y;\r\n    if(s > 1) s = 1;\r\n    if(s < -1) s = -1;\r\n    var alpha = Math.acos(s);\r\n    return alpha * earthR;\r\n  },\r\n  outOfChina: function(lat, lng) {\r\n    if(lng < 72.004 || lng > 137.8347)\r\n      return true;\r\n    if(lat < 0.8293 || lat > 55.8271)\r\n      return true;\r\n    return false;\r\n  },\r\n  transformLat: function(x, y) {\r\n    var ret = -100.0 + 2.0 * x + 3.0 * y + 0.2 * y * y + 0.1 * x * y + 0.2 * Math.sqrt(Math.abs(x));\r\n    ret += (20.0 * Math.sin(6.0 * x * this.PI) + 20.0 * Math.sin(2.0 * x * this.PI)) * 2.0 / 3.0;\r\n    ret += (20.0 * Math.sin(y * this.PI) + 40.0 * Math.sin(y / 3.0 * this.PI)) * 2.0 / 3.0;\r\n    ret += (160.0 * Math.sin(y / 12.0 * this.PI) + 320 * Math.sin(y * this.PI / 30.0)) * 2.0 / 3.0;\r\n    return ret;\r\n  },\r\n  transformLng: function(x, y) {\r\n    var ret = 300.0 + x + 2.0 * y + 0.1 * x * x + 0.1 * x * y + 0.1 * Math.sqrt(Math.abs(x));\r\n    ret += (20.0 * Math.sin(6.0 * x * this.PI) + 20.0 * Math.sin(2.0 * x * this.PI)) * 2.0 / 3.0;\r\n    ret += (20.0 * Math.sin(x * this.PI) + 40.0 * Math.sin(x / 3.0 * this.PI)) * 2.0 / 3.0;\r\n    ret += (150.0 * Math.sin(x / 12.0 * this.PI) + 300.0 * Math.sin(x / 30.0 * this.PI)) * 2.0 / 3.0;\r\n    return ret;\r\n  }\r\n};\r\nexport default GPS;\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/gps.js","\nimport XHeader from 'vux/src/components/x-header/index.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport Cell from 'vux/src/components/cell/index.vue'\nimport Grid from 'vux/src/components/grid/grid.vue'\nimport GridItem from 'vux/src/components/grid/grid-item.vue'\nimport Previewer from 'vux/src/components/previewer/index.vue'\nimport XButton from 'vux/src/components/x-button/index.vue'\n\nimport {backMixin} from \"../../common/js/picBack\";\nimport GPS from \"../../common/js/gps\"\nexport default {\nname: \"OrderInfo\",\nmixins:[backMixin],\ncomponents: {\nXHeader,\nGroup,\nCell,\nGrid,\nGridItem,\nPreviewer,\nXButton\n},\ndata() {\nreturn {\ncid: \"\",\ncheckData: \"\",\ncurrentPoint:'',\nshowImgFile: [],\noptions: {\nsaveImg(el) {\nconsole.log(123);\n}\n}\n};\n},\nfilters: {\n\npicUrl(path, w = 0, h = 0) {\nreturn `${api50}/api/v1/File/DownLoadPic?filePath=${path}&w=${w}&h=${h}`;\n}\n},\nmounted() {\nthis.cid = this.$route.query.cid;\nthis.getCheckDetail(this.cid);\nif (this.$route.query.backIndex && this.$route.query.backIndex == 1){\ndocument.addEventListener(\"plusready\",()=>{\nthis.getLocation();\nplus.key.removeEventListener(\"backbutton\", () => {});\nplus.key.addEventListener(\"backbutton\", () => {\nvar ws = plus.webview.currentWebview();\nplus.webview.close(ws);\n});\n});\n}else{\nthis.getLocation();\n}\n},\nmethods: {\nback(){\nif (this.$route.query.backIndex && this.$route.query.backIndex == 1) {\nvar ws = plus.webview.currentWebview();\nplus.webview.close(ws);\n} else {\nthis.$router.back();\n}\n},\ngotoMap(){\nlet _dst = GPS.bd_decrypt(this.checkData.MapLat, this.checkData.MapLng)\nlet __dst = GPS.gcj_decrypt(_dst.lat, _dst.lng)\nlet dst = new plus.maps.Point(__dst.lng, __dst.lat);\nlet src = new plus.maps.Point(this.currentPoint.coords.longitude, this.currentPoint.coords.latitude);\nplus.maps.openSysMap(dst, \"目的地\", src);\n},\nshowMap(){\nlet map = new BMap.Map(\"container\");\nlet point = new BMap.Point(this.checkData.MapLng, this.checkData.MapLat);\nlet marker = new BMap.Marker(point); \nvar circle = new BMap.Circle(point, 500, {\nstrokeColor: \"red\",\nstrokeWeight: 1,\nstrokeOpacity: 0.3\n});\nmap.addOverlay(marker); \nmap.addOverlay(circle);\nmap.centerAndZoom(point, 15);\n\n},\nsetMap(location){\nthis.currentPoint = location;\n},\ngetCheckDetail(cid) {\nlet _url = \"/Work/GetCrmWorkSigninInfo/\" + cid;\nthis.Axios.get(_url).then(res => {\nthis.checkData = res.data.Data;\nthis.showImgFile = [];\nfor (let i = 0; i < this.checkData.ImageAttach.length; i++) {\nlet item = this.checkData.ImageAttach[i];\nthis.showImgFile.push({\nsrc: `${api50}/api/v1/File/DownLoadPic?filePath=${item.FilePath}`\n});\n}\nthis.showMap()\n});\n},\nimgShow(index) {\nif (this.showImgFile.length > 0) {\nthis.$refs.previewer.show(index);\n}\n},\ngeoLngLatToBaidu(lng,lat,coordtype){\nlet baiduAK = \"W6WIQmkWMM7fHZ1bQzONDGwimUikfaPU\";\nlet from = coordtype == \"gcj02\" ? 3 : 1;\nlet url = \"http://api.map.baidu.com/geoconv/v1/?coords=\" + lng + ',' + lat + \"&output=json&from=\" + from + \"&to=5&ak=\" + baiduAK;\nreturn new Promise((resolve, reject)=>{\njsonp(url, null, (err, res) => {\nif (err) {\nconsole.error(err.message);\n} else {\nif(res && res.status == 0) {\nresolve({\nlng: res.result[0].x,\nlat: res.result[0].y\n})\n}\n}\n})\n})\n},\ngeoDeCoder(_lat, _lng, _coordtype){\nvar baiduAK = \"W6WIQmkWMM7fHZ1bQzONDGwimUikfaPU\";\nvar type = \"wgs84\";\nvar url = 'http://api.map.baidu.com/geocoder/v2/?coordtype=' + type + '&location=' + _lat + ',' + _lng + '&latest_admin=1&output=json&ak=' + baiduAK;\nreturn new Promise((resolve, reject)=>{\njsonp(url, null, (err, res) => {\nif (err) {\nconsole.error(err.message);\n} else {\nif(res && res.status == 0) {\nresolve( {\ncountry: res.result.addressComponent.country || \"\",\nprovince: res.result.addressComponent.province || \"\",\ncity: res.result.addressComponent.city || \"\",\ndistrict: res.result.addressComponent.district || \"\",\naddress: res.result.addressComponent.street || \"\",\nstreet: res.result.sematic_description || \"\"\n})\n}\n}\n})\n})\n},\ngetLocation() {\nlet options = {}\nlet _this = this;\nlet location = {coords:{},address:{}}\nif(plus.os.name == 'iOS'){\nplus.geolocation.getCurrentPosition(\nres => {\n_this.geoLngLatToBaidu(res.coords.longitude, res.coords.latitude, res.coordsType)\n.then(_res=>{\nlocation.coords.longitude = _res.lng\nlocation.coords.latitude = _res.lat\n_this.geoDeCoder(_res.lat,_res.lng)\n.then(__res =>{\nlocation.address = __res\n_this.setMap(location);\n}).catch(err=>{\nconsole.log(JSON.stringify(location))\n})\n})\n\n},\nfunction(e) {\nalert(\"定位失败，请检查网络\");\nconsole.log(JSON.stringify(e));\n},\n);\n}else{\nplus.geolocation.getCurrentPosition(\nres => {\nres.address.address = res.address.street\n_this.setMap(res)\n},\nfunction(e) {\nalert(\"定位失败，请检查网络\");\nconsole.log(JSON.stringify(e));\n},\n{\nprovider: \"baidu\",\ngeocode: true,\ncoordsType: \"bd09ll\",\n}\n);\n}\n\n},\n}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/check/CheckDetails.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"check-info\"},[_c('x-header',{attrs:{\"title\":\"记录详情\",\"left-options\":{backText:'', preventGoBack:true}},on:{\"on-click-back\":_vm.back}}),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('group',{attrs:{\"title\":\"记录信息\"}},[_c('div',{attrs:{\"id\":\"container\"}}),_vm._v(\" \"),_c('cell',{attrs:{\"title\":\"记录时间\",\"value\":_vm.checkData.SigninTime}}),_vm._v(\" \"),_c('cell',{attrs:{\"primary\":\"content\",\"title\":\"记录地点\"}},[_c('span',{staticClass:\"show-text\"},[_vm._v(_vm._s(_vm.checkData.Address))])]),_vm._v(\" \"),_c('cell',{attrs:{\"primary\":\"content\",\"title\":\"客户\"}},[_c('span',{staticClass:\"show-text\"},[_vm._v(_vm._s(_vm.checkData.CustomerName))])])],1),_vm._v(\" \"),_c('group',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.checkData.ImageAttach&&_vm.checkData.ImageAttach.length > 0),expression:\"checkData.ImageAttach&&checkData.ImageAttach.length > 0\"}],attrs:{\"title\":\"记录图片\"}},[_c('div',{staticClass:\"updatePic\"},_vm._l((_vm.checkData.ImageAttach),function(item,index){return _c('div',{key:index,staticClass:\"picBoxWrap\"},[_c('div',{staticClass:\"picBox\"},[_c('img',{attrs:{\"src\":_vm._f(\"picUrl\")(item.FilePath)},on:{\"click\":function($event){_vm.imgShowPic(index)}}})])])}))]),_vm._v(\" \"),_c('group',{staticStyle:{\"padding\":\"10px 20px\"}},[_c('x-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.gotoMap($event)}}},[_vm._v(\"导航到此处\")])],1)],1),_vm._v(\" \"),_c('previewer',{ref:\"previewer\",attrs:{\"list\":_vm.showImgFile,\"options\":_vm.options},on:{\"on-close\":_vm.closePic}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6febf45a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/check/CheckDetails.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6febf45a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CheckDetails.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CheckDetails.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CheckDetails.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6febf45a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CheckDetails.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6febf45a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/check/CheckDetails.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}