webpackJsonp([35],{Acda:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADKUlEQVRYR+1XS2gTURQ9dyY2akmTGcFWFNS0MxZERcGN7lwoKIILwZ0gUsSZqmiFVkWEgh9obUGbCUq7cKMi2oX1B+pSRRetgou2E5tFK7jQmWgRtTRzZZJYk5AQnlZQcJbvnHvmvDP38t4QyjzVsWRdFU1f9+G0x62fmvXn5bgl12+wrLxPPM5iUodr1N8txaNyopF4cpnE00kfZ0/a5jbX3xMycInnqOnEVK6myTG03rIGanrHVWnq6yoQZgwRqI6Yr2UMAG1MEEqA05IsS96jbD13MlFhAh6nUob2ihTLPg6gnQBZaIezQWZ+SIo1+oFAcwF0+lZ/6lIExIdyCVwlhi32TpJAfDJTzxggYDC/nol3EGgNqZbNzPzSNfW1+YQ/3QNKzG4jwtm/14BY3OLsigmIS4pV/DdQkIBYeLPLzkzB7EqKqZUdQzEZcfb/JqyYQMgaWxFAuo+AhQzpcPF5HuqZWBCQvtwmRhSgPY7Z8KDgQ/QNh5Rv8gAxGj1IRsqs78/HKxpQrNEOAh3NHUZPXUPbmC+gxhLtPw4bgEccQ28swltA3Jld47eOoS8RMqBa9hEA53MCtxxD31n0giYQX87q80PH1DcX4HF7CxiZVBi47xraViEDPjkSS+yWwAuc+YE49iz/Wtzraiyxi+Etded6cextnCyBb/DIW5EKejeL8YqfQHywxCr+EQN9wyH1sxx2DmoTpfYX6U5G0kGunTSiIyX33zccCk0HF0/uWz5cjFdMIBxPbJI9vsNAEMRtrqF3FDTRxTerSEo/A1E1M465pnYuH6+JJRoC5A0CFGLgjGtoJ4SaULHsHgLMXBcPuYa2rkDAss8R0JodAk66ph4twlsJyJpivHNMbZGYgZi9HeB+Igr4t2bH0E7lC/gJSR7fI0IQzBccU89cYH88ip+QnH7iJ+ABXSlDaxEy4JPD1miUiMKp/dpQyR7oGVvqyaj9tD/6omQPdI3PC89J1308sCzzgyNsQGywxNgVm1BMTpw9Y0CxbA+M166prRaX+fUK/4+MgNOkxkZfgGj9r0v9XiWpPfZKEHczUdXvSQlWM1Is0ZXvGBYiA3FW0x8AAAAASUVORK5CYII="},IXQT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("8pLc"),a=n("cq2Q"),s=n("ABCa"),o=n("odqc"),c=n("Znkm");var r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.scrollBox||window,i=e.offset||0,a=!0===e.checkStickySupport||!1;if("string"!=typeof n||(n=document.getElementById(n))){var s=t.offsetTop-i;n.removeEventListener("scroll",n.e);var o,c=function(){return n===window?document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop:n.scrollTop},r=function(){c()>s?(t.style.top=i+"px",t.classList.add("vux-fixed")):t.classList.remove("vux-fixed")};if(a&&((o=window.navigator.userAgent.match(/(iPad|iPhone|iPod)\s+OS\s([\d_.]+)/))&&o[2]&&parseInt(o[2].replace(/_/g,"."),10)>=6||function(){for(var t=["","-webkit-","-ms-","-moz-","-o-"],e="",n=0;n<t.length;n++)e+="position:"+t[n]+"sticky";var i=document.createElement("div"),a=document.body;i.style.cssText="display:none"+e,a.appendChild(i);var s=/sticky/i.test(window.getComputedStyle(i).position);return a.removeChild(i),i=null,s}()))t.style.top=i+"px",t.classList.add("vux-sticky");else{if(t.classList.contains("vux-fixed"))c()<(s=function(t){for(var e=t.nextSibling;1!==e.nodeType;)e=e.nextSibling;return e.classList.contains("vux-sticky-fill")?e:t.parentNode}(t).offsetTop-i)&&t.classList.remove("vux-fixed");else s=t.offsetTop-i;n.e=r,n.addEventListener("scroll",r)}}},d={name:"sticky",data:function(){return{initTimes:0}},created:function(){this.$vux&&this.$vux.bus&&this.$vux.bus.$on("vux:after-view-enter",this.bindSticky)},activated:function(){this.initTimes>0&&this.bindSticky(),this.initTimes++},mounted:function(){var t=this;this.$nextTick(function(){t.bindSticky()})},beforeDestroy:function(){this.$vux&&this.$vux.bus&&this.$vux.bus.$off("vux:after-view-enter",this.bindSticky)},methods:{bindSticky:function(){var t=this;this.disabled||this.$nextTick(function(){r(t.$el,{scrollBox:t.scrollBox,offset:t.offset,checkStickySupport:void 0===t.checkStickySupport||t.checkStickySupport})})}},props:["scrollBox","offset","checkStickySupport","disabled"]},l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vux-sticky-box"},[this._t("default")],2)},staticRenderFns:[]};var u=n("VU/8")(d,l,!1,function(t){n("t2np")},null,null).exports,h=n("UNGY"),v=n("rHil"),f=n("1DHf"),m=n("ODCk"),g=(s.a,o.a,c.a,h.a,v.a,f.a,a.a,i.a,m.a,{components:{XHeader:s.a,Tab:o.a,TabItem:c.a,Sticky:u,Datetime:h.a,Group:v.a,Cell:f.a,Scroll:a.a,NoData:i.a},data:function(){return{PageTab:0,SecondTab:1,dayParams:{orgId:0,startTime:Object(m.a)(new Date,"YYYY-MM-DD")+" 00:00:00",endTime:Object(m.a)(new Date,"YYYY-MM-DD")+" 23:59:59"},monthParams:{year:"",month:"",orgId:0},dayCheckedList:[],dayUncheckList:[],monthCount:{Count:0,UnCount:0},selectedMonth:Object(m.a)(new Date,"YYYY-MM"),pullUp:{threshold:0,txt:{more:"加载更多",noMore:"没有更多了"}},pullDown:{threshold:50,stop:20}}},mounted:function(){var t=new Date;this.monthParams.year=t.getFullYear(),this.monthParams.month=t.getMonth()+1,this.getDayList()},computed:{checkedNum:function(){return this.dayCheckedList.length},unCheckedNum:function(){return this.dayUncheckList.length},dateSelected:function(){return Object(m.a)(new Date(this.dayParams.startTime),"YYYY-MM-DD")},monthAll:function(){return this.monthCount.Count+this.monthCount.UnCount}},methods:{changeSecondTab:function(t){this.SecondTab=t},showMonthPlugin:function(){var t=this;this.$vux.datetime.show({cancelText:"取消",confirmText:"确定",format:"YYYY-MM-DD",value:t.dateSelected,onConfirm:function(e){t.dayParams.startTime=e+" 00:00:00",t.dayParams.endTime=e+" 23:59:59",t.getDayList()}})},monthChange:function(t){var e=new Date(t);this.monthParams.year=e.getFullYear(),this.monthParams.month=e.getMonth()+1,this.getMonthInfo().then(function(){})},pageScroll:function(){this.$refs.scroll.scroll.finishPullUp(),this.$refs.scroll.scroll.finishPullDown(),this.$refs.scroll.forceUpdate(),this.$refs.scroll.refresh()},getDayList:function(){var t=this;return this.getAxios("/Statistics/GetWorkSinginUser",this.dayParams).then(function(e){1==e.State?(t.dayCheckedList=e.Data.Singin,t.dayUncheckList=e.Data.UnSingin):t.$vux.loading.hide()}).catch(function(e){t.$vux.toast.show({text:e.ErrorMessage,position:"middle",type:"cancel",onHide:function(){}}),t.$vux.loading.hide()})},getMonthInfo:function(){var t=this;return this.getAxios("/Statistics/GetWorkSinginMonth",this.monthParams).then(function(e){1==e.State?(t.monthCount.Count=e.Data.Count,t.monthCount.UnCount=e.Data.UnCount):t.$vux.loading.hide()}).catch(function(e){t.$vux.toast.show({text:e.ErrorMessage,position:"middle",type:"cancel",onHide:function(){}}),t.$vux.loading.hide()})},switchTabItem:function(t){var e=this;this.$vux.loading.show({text:"loading"}),0==t?this.getDayList().then(function(){e.PageTab=t,e.$vux.loading.hide()}):this.getMonthInfo().then(function(){e.PageTab=t,e.$vux.loading.hide()})}},filters:{dateFormat:m.a,getPicSrc:function(t){return apiPic+"/dXNlci9sb2dv_"+t+"_35x35.png"}}}),A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide"}},[i("div",[i("div",{staticClass:"check-list"},[i("x-header",{attrs:{title:"签到统计"}},[i("div",{attrs:{slot:"right"},slot:"right"})]),t._v(" "),i("div",{staticClass:"main-content"},[i("tab",{attrs:{"line-width":2,"active-color":"#508df4","prevent-default":""},on:{"on-before-index-change":t.switchTabItem},model:{value:t.PageTab,callback:function(e){t.PageTab=e},expression:"PageTab"}},[i("tab-item",{attrs:{selected:""}},[t._v("日统计")]),t._v(" "),i("tab-item",[t._v("月统计")])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:0==t.PageTab,expression:"PageTab==0"}],staticClass:"day-count"},[i("div",{staticClass:"active-bar"},[i("div",{staticClass:"bar-item",class:1==t.SecondTab?"active-item":"",on:{click:function(e){t.changeSecondTab(1)}}},[i("p",[t._v(t._s(t.checkedNum))]),t._v(" "),i("p",[t._v("最新签到")])]),t._v(" "),i("div",{staticClass:"bar-item",class:2==t.SecondTab?"active-item":"",on:{click:function(e){t.changeSecondTab(2)}}},[i("p",[t._v(t._s(t.unCheckedNum))]),t._v(" "),i("p",[t._v("未签到")])]),t._v(" "),i("div",{staticClass:"calendar-bar"},[i("p",[t._v(t._s(t.dateSelected))]),t._v(" "),i("img",{attrs:{src:n("Acda")},on:{click:t.showMonthPlugin}})])]),t._v(" "),i("transition",{attrs:{name:"fade"}},[1==t.SecondTab?i("div",{staticClass:"count-content"},[i("div",{staticClass:"checked-person-list"},[t._l(t.dayCheckedList,function(e){return i("div",{staticClass:"checked-info"},[i("img",{staticClass:"person-img",attrs:{src:t._f("getPicSrc")(e.UserID)}}),t._v(" "),i("div",{staticClass:"person-info"},[i("p",[t._v(t._s(e.RealName))]),t._v(" "),i("p",[t._v(t._s(e.SinginDate)+" 签到"+t._s(e.Count)+"次")]),t._v(" "),i("p",[i("img",{attrs:{src:n("rzO3")}}),t._v(" "),i("span",[t._v(t._s(e.Address))])])])])}),t._v(" "),0==t.dayCheckedList.length?i("no-data",{attrs:{bgColor:"#FFF"}}):t._e()],2)]):t._e()]),t._v(" "),i("transition",{attrs:{name:"fade"}},[2==t.SecondTab?i("div",{staticClass:"count-content"},[i("div",{staticClass:"uncheck-person-list"},t._l(t.dayUncheckList,function(e){return i("div",{staticClass:"uncheck-info"},[i("img",{attrs:{src:t._f("getPicSrc")(e.UserID)}}),t._v(" "),i("p",[t._v(t._s(e.RealName))])])})),t._v(" "),0==t.dayUncheckList.length?i("no-data",{attrs:{bgColor:"#FFF"}}):t._e()],1):t._e()])],1),t._v(" "),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:1==t.PageTab,expression:"PageTab==1"}],staticClass:"month-count"},[i("group",[i("datetime",{attrs:{format:"YYYY-MM",title:"选择月份"},on:{"on-change":t.monthChange},model:{value:t.selectedMonth,callback:function(e){t.selectedMonth=e},expression:"selectedMonth"}})],1),t._v(" "),i("group",[i("cell",{attrs:{title:"考勤人数"}},[t._v(t._s(t.monthAll)+"人")]),t._v(" "),i("cell",{attrs:{title:"已签到"}},[t._v(t._s(t.monthCount.Count)+"人")]),t._v(" "),i("cell",{attrs:{title:"未签到"}},[t._v(t._s(t.monthCount.UnCount)+"人")])],1)],1)])],1)],1)])])},staticRenderFns:[]};var p=n("VU/8")(g,A,!1,function(t){n("qY9U")},"data-v-50f6bdba",null);e.default=p.exports},qY9U:function(t,e){},rzO3:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEXElEQVRYR9WWbYhUVRjH//87Q7YrBQtBFCohoZlRSoGCVEJkSWmWCGEv9EUJcuacmV2t7O1WWoG7c58zLkhLkJHRB+1lXZBehNBK+lBZVpgUlUlEkcwuwRazs/eJI3disp25s1shnS/DPOc5//O7z8s5hzjDg2d4f/z/AIwxq0neCGCeql4KoEryKICjcRzvLpfL70wmqm1HwFq7RFX7SC5qtYGq7iPZIyIeKnW0BWCMWUdyIFEbjON4kORHcRx/l81mswBmx3G8mORqAEtVdVxVV5bL5X1pBKkA1tq7VPUFkmOqeqdzbncrUWPMAwCe8v4kb4qiaH8r/5YA1toLVPUESZ/nG6Ioercutn79+s7Ozs45/j/JY1EU/Vafy+fzt5PcRfJXkhc2zp0OkwbQD+A+AGtEZI9fXCgUOuI4fhJAkWR9fayq0cjIyMM7d+783fsZY7pJ9gLYKCL+d8LRFKC7u/u88fHxHwB8LiJX1ldba/cCWAHguKq+kdiXk5wF4HURudXbwjA8a3h4+GtVPburq2tGGIbViQiaAhhjCiRLANaJyHN+sbV2FYDXAAyOjo6uGRgYGPP2XC43LZPJ+NpYoaq3OOc8pPffAuAhAKtF5NXJAmwnuSGO4znlcvmrRLDPh15Vlznn3m4ULBQKy1T1TQC9IrIxScP1JN8C0C0i/mP+NppGoB7qbDZ7fm9v788JwCsAbguCYEGpVPq0Uc1auwDAYQB7RGRNArCI5AcAnIjYSQEYY14iuTYIglmlUulEIriV5GaSq6IoGjwN4FR6VHWLc+6RxP8akgcAPC0imycFYK3tAbCtMafFYvGKOI4/BnBwdHR0Wb0GkoLzob5aVRc6544kHWNUVRq7qO02zOfz1wVBsF9V+51zufpCY4yPwFZV/Z7kt4l9NoCZqvqgc+6ZBt8hkjfXarXZ/f39dd+/MDStgZ6enuljY2MnSdYymcxFfX19vzS04nJVfYzkJaoak/ySZBhFkY/CqWGtnQfgiKoed85dPFH4vS3tINoGwKfiZRFZ20xkIru19j0ASwDcLSIvTgnAH7cdHR3HSM4guTKKoqF2IIwxG0huV9WDzrlrW61JvYxyudzCTCbzoaqOkJwvIj+2EjTGzAXwifcJgmB+FEXf/COAJJ++rZ4AcEBEljYTDMMwW6lUDpO8TFXvdc49mxax1Ah4gTAMg0qlcsg/RlS16JyLJhI2xpw6JwAMicjKtM1Ti7BRoFgszozj+AsA00heFUXRZ43zuVxucSaTeV9VT1ar1bk7duyo/KsAXix5D+5R1WNdXV2X128437K1Ws0/wWYm74Y/2zENoq0UNIpYa3cBuAOAiEghqZHnAdwDYLuI5NM2bZyfNMCmTZvOqVarPhX+a31Bnquqe0+PSrsQkwZIUuFvuUMAfvIPDpLTJ6qLdiCmBJBAPE7y0WSTpvd9GsSUAXxrDg8P3w9grNWb7z8DSBNud37KEWh3gzS/Mw7wBwhk7zCK3cWAAAAAAElFTkSuQmCC"},t2np:function(t,e){}});
//# sourceMappingURL=35.f1a68ccd24ca8b9ba041.js.map