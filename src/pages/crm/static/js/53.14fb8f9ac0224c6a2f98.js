webpackJsonp([53],{"3YGR":function(e,t){},UwVZ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Gu7T"),n=a.n(s),l=a("YxJB"),c=a("3Lt7"),i=a("ABCa"),r=a("HqzV"),o=a("EmH9"),u=a("cq2Q"),d=(l.a,c.a,i.a,u.a,r.a,o.a,{components:{Flexbox:l.a,FlexboxItem:c.a,XHeader:i.a,Scroll:u.a,Search:r.a,CheckIcon:o.a},created:function(){this.selectId=this.$route.query.userId||0},data:function(){return{selectId:0,clientList:[],params:{searchName:"",pageIndex:1,pageSize:20},pullUp:{threshold:0,txt:{more:"加载更多",noMore:"没有更多了"}},pullDown:{threshold:50,stop:20},isSort:!1}},methods:{searchUser:function(){this.getData(1)},onChecked:function(e){this.$bus.emit("userSelected",e),this.$router.back()},getData:function(e){var t=this,a=mdcloud+"yunos/user/queryUserListByOrg";1==e&&(this.params.pageIndex=1),this.Axios.get(a,{params:this.params}).then(function(a){var s=a.data.data.data;s.map(function(e){e.id==t.selectId?e.checked=!0:e.checked=!1}),s.length>0?(2===e?(t.clientList=[].concat(n()(t.clientList),n()(s)),t.$refs.scroll.scroll.finishPullUp()):(t.clientList=s,t.$refs.scroll.scroll.finishPullDown()),t.params.pageIndex+=1,t.$refs.scroll.refresh()):t.$refs.scroll.forceUpdate()})}},mounted:function(){this.getData();var e=document.body.clientHeight;this.$refs.clientList.style.height=e-88+"px"},watch:{clientList:function(){var e=this;setTimeout(function(){e.$refs.scroll.forceUpdate(!0)},500)}}}),h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"slide"}},[a("div",{staticClass:"list"},[a("x-header",[e._v("选择")]),e._v(" "),a("search",{attrs:{placeholder:"搜索用户"},on:{"on-submit":e.searchUser},model:{value:e.params.searchName,callback:function(t){e.$set(e.params,"searchName",t)},expression:"params.searchName"}}),e._v(" "),a("div",{ref:"clientList",staticClass:"list-wrap"},[a("scroll",{ref:"scroll",staticStyle:{height:"100%"},attrs:{pullUpLoad:e.pullUp,pullDownRefresh:e.pullDown},on:{pullingUp:function(t){e.getData(2)},pullingDown:function(t){e.getData(1)}}},[a("ul",e._l(e.clientList,function(t,s){return a("li",{key:s},[a("flexbox",{staticStyle:{margin:"3px 0","background-color":"#fff",padding:"10px 0px"}},[a("flexbox-item",{attrs:{span:4}},[a("div",{staticClass:"flex-demo"},[a("check-icon",{attrs:{value:t.checked},on:{"update:value":function(a){e.$set(t,"checked",a)}},nativeOn:{click:function(a){e.onChecked(t)}}})],1)]),e._v(" "),a("flexbox-item",{attrs:{span:4}},[a("div",{staticClass:"flex-demo"},[e._v(e._s(t.realName))])]),e._v(" "),a("flexbox-item",{attrs:{span:4}},[a("div",{staticClass:"flex-demo"},[e._v(e._s(t.phone))])])],1)],1)}))])],1)],1)])},staticRenderFns:[]};var f=a("VU/8")(d,h,!1,function(e){a("3YGR")},null,null);t.default=f.exports}});
//# sourceMappingURL=53.14fb8f9ac0224c6a2f98.js.map