webpackJsonp([51],{ly2v:function(t,e){},qd5s:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("Gu7T"),i=s.n(a),n=(s("NYxO"),s("YxJB")),o=s("3Lt7"),r=s("ABCa"),l=s("rHil"),c=s("pDNl"),u=s("cq2Q"),p=s("8pLc"),h=s("rUbY"),d=(n.a,o.a,r.a,u.a,l.a,c.a,p.a,h.a,{data:function(){return{clientList:[],params:{customerName:"",beginDate:"",endDate:"",page:1,count:10,saleChiefId:this.$store.state.CurrentUserID},pullUp:{threshold:0,txt:{more:"加载更多",noMore:"没有更多了"}},pullDown:{threshold:50,stop:20},isSort:!1}},methods:{enter:function(t){this.params.customerName=t,this.getData(1,1)},selectedUser:function(t){this.params.saleChiefId=t,this.getData(1,1)},dateQuery:function(t){this.params.beginDate=t.beginDate?t.beginDate+" 00:00:00":"",this.params.endDate=t.endDate?t.endDate+" 23:59:59":"",this.getData(1,1)},getData:function(t,e){var s=this;this.$vux.loading.show({text:"加载中"}),this.params.page=e||this.params.page,this.getAxios("/Customer/GetPagedCustomerList",this.params).then(function(e){s.$vux.loading.hide(),e.Data.List.length>0?(2===t?(s.clientList=[].concat(i()(s.clientList),i()(e.Data.List)),s.$refs.scroll.scroll.finishPullUp()):(s.clientList=e.Data.List,s.$refs.scroll.scroll.finishPullDown(),s.$refs.scroll.scrollTo(0,0),s.$refs.scroll.forceUpdate(!0)),s.params.page+=1,s.$refs.scroll.refresh()):1==t?(s.clientList=[],s.$refs.scroll.forceUpdate()):s.$refs.scroll.forceUpdate()}).catch(function(t){s.$vux.loading.hide(),console.log(t)})},goto:function(t,e){this.$router.push({path:t,query:e?{id:e.ID,SaleChief:e.SaleChief}:{}})}},mounted:function(){var t=this;this.getData(),this.$bus.on("init",function(){t.getData(1,1)});var e=this.$route.query;this.params.beginDate=e.beginDate||"",this.params.endDate=e.endDate||""},beforeDestroy:function(){this.$bus.off("init")},components:{Flexbox:n.a,FlexboxItem:o.a,XHeader:r.a,Scroll:u.a,Group:l.a,XInput:c.a,NoData:p.a,Query:h.a}}),f={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"slide"}},[s("div",{staticClass:"cList"},[s("x-header",{attrs:{"left-options":{backText:""}}},[t._v("我的客户\n      "),s("svg",{staticClass:"vux-x-icon vux-x-icon-ios-plus-empty",attrs:{slot:"right",type:"ios-plus-empty",size:"30",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"},on:{click:function(e){t.goto("/addClient")}},slot:"right"},[s("path",{attrs:{d:"M384 265H264v119h-17V265H128v-17h119V128h17v120h120v17z"}})])]),t._v(" "),s("query",{attrs:{dateTitle:"创建时间",isClass:!1,placeholder:"请输入客户名称",isQurey:!0,formatDate:"YYYY-MM-DD"},on:{dateQuery:t.dateQuery,selectedUser:t.selectedUser,enter:t.enter}}),t._v(" "),s("scroll",{ref:"scroll",staticClass:"list-wrap",attrs:{pullUpLoad:t.pullUp,pullDownRefresh:t.pullDown,background:"#F0F2FF"},on:{pullingUp:function(e){t.getData(2)},pullingDown:function(e){t.getData(1,1)}}},[s("ul",t._l(t.clientList,function(e,a){return s("li",{key:a,on:{click:function(s){t.goto("/client/clientDetails",e)}}},[s("h3",[s("span",{staticStyle:{"max-width":"200px","word-break":"break-all"}},[s("i",{staticClass:"iconfont icon-gongsi-",staticStyle:{"margin-right":"4px",color:"#1e9fff"}}),t._v("\n              "+t._s(e.CustomerName)+"\n            ")]),t._v(" "),s("span",[s("span",{staticStyle:{"vertical-align":"middle","font-size":"12px",color:"#DFB797"}},[t._v(t._s(e.CustStateName))]),t._v(" "),s("svg",{staticClass:"vux-x-icon vux-x-icon-ios-arrow-right",attrs:{type:"ios-arrow-right",size:"20",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 512 512"}},[s("path",{attrs:{d:"M160 115.4L180.7 96 352 256 180.7 416 160 396.7 310.5 256z"}})])])]),t._v(" "),s("p",{staticClass:"body_p"},[t._v("所在城市 | "+t._s(e.Province+e.City+e.District))]),t._v(" "),s("p",{staticClass:"body_p"},[s("span",[t._v("联系人 | "+t._s(e.LinkName))])]),t._v(" "),s("p",{staticClass:"body_p"},[t._v("手机号 | "+t._s(e.LinkPhone))]),t._v(" "),s("p",{staticStyle:{"font-size":"12px",color:"#DADADA"}},[t._v("所有者："+t._s(e.SaleChiefName))])])})),t._v(" "),0==t.clientList.length?s("no-data"):t._e()],1),t._v(" "),s("router-view")],1)])},staticRenderFns:[]};var g=s("VU/8")(d,f,!1,function(t){s("ly2v")},"data-v-5056a150",null);e.default=g.exports}});
//# sourceMappingURL=51.d01fe779cfdf856e94b0.js.map