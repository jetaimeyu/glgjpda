{"version":3,"sources":["webpack:///./src/assets/location.png","webpack:///./src/views/attendance/location.vue","webpack:///./src/views/attendance/location.vue?3bf3","webpack:///./src/views/attendance/location.vue?2428"],"names":["module","exports","x_header","x_button","group","cell","x_textarea","name","components","XHeader","XButton","Group","Cell","XTextarea","mounted","this","setMap","data","buttonAble","distance","formData","ID","SigninTime","Object","format","Date","Province","City","District","Street","Address","MapLng","MapLat","Remark","methods","position","address","province","city","district","street","streetNum","addresses","coords","longitude","latitude","map","BMap","Map","pointA","Point","pointB","markerA","Marker","markerB","getDistance","opts","offset","Size","label","Label","setStyle","color","fontSize","height","lineHeight","fontFamily","addOverlay","circle","Circle","strokeColor","strokeWeight","strokeOpacity","centerAndZoom","disableDragging","getLocation","_this","window","plus","geolocation","getCurrentPosition","res","e","alert","console","log","stringify_default","geocode","coordsType","provider","reLocation","checkIn","_this2","$vux","toast","show","text","type","_data","ImageAttach","item","FileSize","FileType","postAxios","then","State","onHide","$router","back","catch","ErrorMessage","selectortype_template_index_0_src_views_attendance_location","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","ref","title","_v","id","nativeOn","click","$event","returnFalse","staticStyle","display","margin-right","slot","width","src","__webpack_require__","_s","model","value","callback","$$v","$set","expression","bottom","disabled","staticRenderFns","Component","normalizeComponent","views_attendance_location","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/45.b2d8e72bb9999a1fbaea.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEzUlEQVRYR+VXbYgVZRR+zsxVl/y4dwY1kdTcvXOlUovQMpMkUbcooT8pWYZFtrszKokSfYAfP4qiMjPuXNdKURHKgkBSK4sS0woNti+xO3d3kUArZeaumdleZ56Yayvr3bl312t/ovfPwJxznud5z3vOO2cEV7D0dG5dGO5aySeqhZFqA8M43c7uBUHXSs2uFue/JSBuH9NUFO4nOE3IyRQZJ4AQPAXgOCDfMcB7+eGdezD3hs6+ZKVPGYhvaJ2kBP4qQO4W8hxEdgfCL4SyUIAAlJcorAUQHsV0IU+AssxdbOzoTURlAenfBmnSsU2A+0BkA+ELeXXQO2gYeTYETmScR8NnvsnY1EUUt7O1KrCSkIcB7vKYeADW8DPlhJQVoK93roHKvYSMBWSFN6wug7ni97ajLrtuO1NIfiDASUCZ7VrJn6NiowU0s5/mO4cA0eEr93hL6r7vK3F3vyEbWo2YH+wH6MKXKe5S43QpTqQA3XZeJbEwiGFSR4PRWg15V4z2eusEUfwvARyMatceAjS7bSLgtwDKHM+s23Ul5BePI52bB+HbCDCvtDAjBDgHBIy5ZurWf4P8YibS2X0QGes1JcdAhF3vLxGQ2NB2oxL4LYRyb6+7X+8MSKi8rtgFwwpHeuv7eCY3QyU/9aHM6jDrPokUoKVzL0K4yBuaHFap4jXbsQR4GUBNEYj4kwqWe01GpmzWSNHt3AkIdrumUWzfcF2SAd12DpPMelZqfjkgzc42CqQMkTS4ZnJj+VhnO4CJnmlMiM6Ane0ElTWelXwuEuSto4P1c8oJiAyMspPIe4iPKnfxJGxnpRDPeJZxIXNhBjQ7lwGKZ9lPgKkAfwJko2saa0tJ4nbrTBXB3krFGQjuzDcZn5f66OnccoCPQ5AicBBAAcSPotmODeB6ADEBbi8KoPKGayVfKQVJ2M50BegB3t2PUO/wzNr9EQJWQILHABlH4ACA8wCOXFIDmu2cB2VV2SPY3F6jnS38LiKxMkfwl3cyOQirJQTvsfS0s5rCpz0zNaBMFzg/AGjxLOOhcmlOZJwFCrG11M6wF4gFnmWEhRa5NNt5X4BRrmlMihSg284mELNcMzm6+2VRiha2IcC1Aukf2gh2gljqWanmsvWxub1GP1s4SZG0ZxpPRQvIOPUgPgwoM/JW8rNKxTYw3T5iAPw5gUK/EFN3/bGo9tdK/pqdnS+Q7YGi3pRvrP02UgB2UNVO5dqEdFwrNbMS4OXadDt7lJBTnmlM6x7b41ugV/hwXC5pl79mO2FNbSV5c95KtVQUEBr1dPZjAFMZqLdVOwtcJM/kxksQfAUob0aN79HzwHpnCFV8I8BgqJjhNhpHqtn9kEzbLbHA30nhL55qTEaDFEpxyo5kWnPraDnvf0TICJ+86/Ti1Nd9FrGaMW24swzE8wLkLn8k62K6MJTuAFEvwm2+339Nx5Jr27vMCTv7CKAEeTO5pfiu+fhVCf/MPIE8K0AdgZ0e4w9WNZR2322xMMF1FFwNYB/IPQLlGMEni/eAwi1KgOkA6ilSA3BPoKhrOhrrDveWtT79FxRBwgEkhnoBQjHjAYwUyNDwBhQwS8ghgez30e/dDnOM1xtx9D3Q16h//P5//4alCdLT2dcAhVfye/43rCEQbW7ATqgAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/location.png\n// module id = TL5K\n// module chunks = 45","\nimport TransferDom from 'vux/src/directives/transfer-dom/index.js'\nimport XHeader from 'vux/src/components/x-header/index.vue'\nimport XButton from 'vux/src/components/x-button/index.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport Cell from 'vux/src/components/cell/index.vue'\nimport dateFormat from 'vux/src/tools/date/format.js'\nimport XTextarea from 'vux/src/components/x-textarea/index.vue'\n\n\nexport default {\nname: \"Check\",\ncomponents: {\nXHeader,\nXButton,\nGroup,\nCell,\nXTextarea\n},\nmounted() {\n\n\n\n\n\n\nthis.setMap()\n},\ndata() {\nreturn {\nbuttonAble: false,\ndistance: '',\nformData: {\nID: 0,\nSigninTime: dateFormat(new Date(), \"YYYY-MM-DD HH:mm:ss\"),\nProvince: \"\",\nCity: \"\",\nDistrict: \"\",\nStreet: \"\",\nAddress: \"\",\nMapLng: 0,\nMapLat: 0,\nRemark: \"\",\n},\n};\n},\n\nmethods: {\nsetMap(position) {\nif (position) {\nthis.formData.Province = position.address.province;\nthis.formData.City = position.address.city;\nthis.formData.District = position.address.district;\nthis.formData.Street =\nposition.address.street + position.address.streetNum;\nthis.formData.Address = position.addresses;\nthis.formData.MapLng = position.coords.longitude;\nthis.formData.MapLat = position.coords.latitude;\n}\n\nlet map = new BMap.Map(\"container\");\n\nlet pointA = new BMap.Point(117.144192, 36.666896);\nlet pointB = new BMap.Point(117.140192, 36.666896);\nlet markerA = new BMap.Marker(pointA); \n\n\nlet markerB = new BMap.Marker(pointB);\nthis.distance = map.getDistance(pointA, pointB)\nif (this.distance < 300) {\nvar opts = {\nposition: pointB,    // 指定文本标注所在的地理位置\noffset: new BMap.Size(-45, -50)    \n}\nlet label = new BMap.Label(\"已经入考勤范围\", opts);  \nlabel.setStyle({\ncolor: \"blue\",\nfontSize: \"12px\",\nheight: \"20px\",\nlineHeight: \"20px\",\nfontFamily: \"微软雅黑\"\n});\nmap.addOverlay(label);\n}\n\nvar circle = new BMap.Circle(pointA, 400, {\nstrokeColor: \"blue\",\nstrokeWeight: 0.8,\nstrokeOpacity: 0.2\n}); //创建圆\nmap.addOverlay(markerA); \nmap.addOverlay(markerB); \nmap.addOverlay(circle);\nmap.centerAndZoom(pointA, 16);\nmap.disableDragging();\n},\n\ngetLocation() {\nlet _this = this;\nif (window.plus) {\nplus.geolocation.getCurrentPosition(\nres => {\n_this.setMap(res);\n},\nfunction (e) {\nalert(\"定位失败，请检查网络\");\nconsole.log(JSON.stringify(e));\n},\n{\ngeocode: true,\ncoordsType: \"bd09ll\",\nprovider: \"baidu\"\n}\n);\n}\n},\nreLocation() {\nthis.getLocation();\n},\n\ncheckIn() {\nlet _this = this;\nif (!this.formData.MapLng && !this.formData.Address) {\nthis.$vux.toast.show({\ntext: \"请先进行定位\",\nposition: \"middle\",\ntype: \"warn\"\n});\nreturn false;\n}\nif (!this.formData.Address) {\nthis.$vux.toast.show({\ntext: \"请先定位获取地址\",\nposition: \"middle\",\ntype: \"warn\"\n});\nreturn false;\n}\n\nlet _url = \"/Work/SaveCrmWorkSignin\";\nlet _data = this.formData;\n\n_data.ImageAttach.map(item => {\nitem.ID = 0;\nitem.FileSize = 100;\nitem.FileType = 1;\n});\nthis.buttonAble = true;\nthis.postAxios(_url, _data)\n.then(res => {\nif (res.State == 1) {\nthis.$vux.toast.show({\ntext: \"签到成功！\",\nposition: \"middle\",\ntype: \"success\",\nonHide() {\n\n_this.$router.back();\n}\n});\n}\n})\n.catch(e => {\nthis.buttonAble = false;\nthis.$vux.toast.show({\ntext: e.ErrorMessage,\nposition: \"middle\",\ntype: \"cancel\",\nonHide() {\nthis.buttonAble = false;\n}\n});\nconsole.log(JSON.stringify(e));\n});\n}\n}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/attendance/location.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{staticClass:\"addressMap\"},[_c('x-header',{ref:\"addressmapHeader\",attrs:{\"title\":\"考勤打卡\"}}),_vm._v(\" \"),_c('group',[_c('div',{attrs:{\"id\":\"container\"},nativeOn:{\"click\":function($event){return _vm.returnFalse($event)}}}),_vm._v(\" \"),_c('cell',{attrs:{\"title\":\"当前\"},nativeOn:{\"click\":function($event){return _vm.reLocation($event)}}},[_c('img',{staticStyle:{\"display\":\"block\",\"margin-right\":\"5px\"},attrs:{\"slot\":\"icon\",\"width\":\"20\",\"src\":require(\"../../assets/location.png\")},slot:\"icon\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.formData.Address))])]),_vm._v(\" \"),_c('x-textarea',{attrs:{\"title\":\"备注\"},model:{value:(_vm.formData.Remark),callback:function ($$v) {_vm.$set(_vm.formData, \"Remark\", $$v)},expression:\"formData.Remark\"}})],1),_vm._v(\" \"),_c('group',{staticStyle:{\"position\":\"fixed\",\"width\":\"100%\",\"bottom\":\"0\"}},[_c('x-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.buttonAble},nativeOn:{\"click\":function($event){return _vm.checkIn($event)}}},[_vm._v(\"签到\")])],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1d08d766\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/attendance/location.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1d08d766\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./location.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./location.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./location.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1d08d766\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./location.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1d08d766\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/attendance/location.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}