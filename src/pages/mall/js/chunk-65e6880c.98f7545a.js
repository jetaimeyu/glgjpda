(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65e6880c"],{5907:function(e,t,a){},e823:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"for-record"},[a("van-nav-bar",{attrs:{title:"兑换记录","left-text":"",fixed:!0,"left-arrow":""},on:{"click-left":e.handleToHome}}),a("van-pull-refresh",{ref:"refresh",on:{refresh:e.onRefresh},model:{value:e.isLoading,callback:function(t){e.isLoading=t},expression:"isLoading"}},[a("van-list",{ref:"list",attrs:{id:"for-record-list",finished:e.finished,offset:50},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[0===e.list.length&&e.showno?a("div",{staticClass:"no-list"},[e._v("\n        暂无兑换记录\n      ")]):e._e(),e._l(e.list,function(t){return a("van-cell",{key:t.ID,attrs:{value:"-"+t.SpendIntegral+"积分",label:t.CreateDate}},[a("template",{slot:"title"},[a("div",[a("span",{staticClass:"van-cell-text"},[e._v(e._s(t.ExchangeProdName)+" ")]),a("van-tag",[e._v("商城兑换")])],1),a("div",{staticClass:"cell-label"},[e._v("\n            "+e._s(t.CreateDate)+"\n          ")])])],2)})],2)],1)],1)},n=[],i=a("e85a"),s=i["a"],l=(a("f685"),a("2877")),c=Object(l["a"])(s,o,n,!1,null,"56c8e44b",null);c.options.__file="forRecord.vue";t["default"]=c.exports},e85a:function(e,t,a){"use strict";(function(e){var o=a("8afe"),n=a("c93e"),i=(a("cadf"),a("551c"),a("097d"),a("2f62"));t["a"]={name:"forRecord",data:function(){return{count:0,isLoading:!1,list:[],loading:!1,finished:!1,page:1,pageSize:10,time:"",showno:!1}},computed:Object(n["a"])({},Object(i["b"])(["COMP_ID"])),methods:{onRefresh:function(){this.page=1,this.getRecord(),this.page++},onLoad:function(){this.page>2&&(this.loading=!0),this.getRecord(),this.page++},getRecord:function(){var t=this;this.$toast.loading({mask:!0,message:"加载中..."}),e.get("/api/v1/Reg/ExchangeProdRecordGet?compId=".concat(this.COMP_ID,"&logisticsState=-1&page=").concat(this.page,"&pageSize=").concat(this.pageSize)).then(function(e){if(t.showno=!0,console.log(e.data),1===e.data.State&&0!==e.data.Data.DataRows.length){var a;if(2===t.page)t.list=e.data.Data.DataRows;else(a=t.list).push.apply(a,Object(o["a"])(e.data.Data.DataRows));t.finished=!1}else t.finished=!0;t.refreshDom(),setTimeout(function(){t.loading=!1,t.isLoading=!1,t.$toast.clear()},200)}).catch(function(e){t.showno=!0,t.$toast.clear(),t.$toast("网络出现了问题"),t.finished=!0,t.loading=!1,t.isLoading=!1,console.log("error:"+e)})},refreshDom:function(){var e=this,t=document.getElementsByClassName("van-nav-bar")[0].clientHeight,a=window.screen.height;clearTimeout(this.time),document.getElementById("for-record-list").style.height="",this.time=setTimeout(function(){var o=document.getElementById("for-record-list").offsetHeight;o<a-t?(document.getElementById("for-record-list").style.height=a-t+"px",2===e.page&&e.onLoad()):document.getElementById("for-record-list").style.height=""},50)},handleToHome:function(){this.$router.push({path:"/home/enterpriseHome"})}}}}).call(this,a("bc3a"))},f685:function(e,t,a){"use strict";var o=a("5907"),n=a.n(o);n.a}}]);
//# sourceMappingURL=chunk-65e6880c.98f7545a.js.map