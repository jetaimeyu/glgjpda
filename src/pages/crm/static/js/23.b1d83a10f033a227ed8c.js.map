{"version":3,"sources":["webpack:///./src/views/follow/addFollow.vue","webpack:///./src/views/follow/addFollow.vue?6b04","webpack:///./src/views/follow/addFollow.vue?1df9"],"names":["follow_addFollow","picBack","extends_default","selectUser","this","userShow","userSelected","data","checkVal","map","val","UserID","ID","Name","OrgName","userList","JSON","parse","stringify_default","item","userID","selectedClient","formData","CustomerState","CustState","Object","vuex_esm","selectCust","isSelectCust","$router","push","path","saveImg","confirmDate","selectType","getData","_this2","getAxios","fId","then","res","isSave","Data","FollowupDate","dayjs_min_default","format","ImgAttach","forEach","src","api50","FilePath","imgFile","recordFile","AmrAttach","Senders","save","_this3","saveObj","assign_default","$refs","client","CustomerID","LinkUserID","IsHasAudio","AudioLength","FileSize","FollowupState","ind","find","IsDelete","clickNum","postAxios","$vux","toast","show","type","text","$bus","emit","$route","meta","isBack","ids","$store","state","CurrentUserID","send","back","catch","err","id","obj","SendUsers","EvName","ImgPath","down","Title","Content","Params","getCamera","_this4","length","plus","camera","captureImage","updated","size","loading","hide","msg","ErrorMessage","selectPic","_this5","gallery","pick","files","filter","multiple","maximum","system","delPic","index","_this","confirm","content","onConfirm","splice","delRec","getRecord","e","_this6","preventDefault","startTime","Date","isRecord","recorderTimer","setTimeout","stopRecord","recorder","record","filename","stopTime","audioLength","Math","ceil","console","log","clearTimeout","stop","handleRecord","filePath","_this7","playRecord","download","_this8","player","audio","createPlayer","play","_this9","promise_default","a","resolve","reject","url","BillFileUrl","uploader","createUpload","method","blocksize","upload","responseText","State","totalSize","fileName","substr","lastIndexOf","addFile","key","addEventListener","status","abort","start","downloader","createDownload","x_header","group","cell","x_input","datetime","popup_radio","popup_picker","x_textarea","x_button","previewer","client_link","dict","template","mixins","options","el","ContactType","ResultContent","LinkUserName","types","value","isUserShow","cState","isPlay","isInit","mounted","query","Boolean","cId","CustomerName","cName","cLink","getRecorder","beforeRouteLeave","to","from","next","off","fullPath","keepAlive","title","onCancel","methods","filters","picUrl","w","arguments","undefined","h","computed","components","XHeader","Group","Cell","XInput","Datetime","PopupRadio","PopupPicker","XTextarea","XButton","Previewer","ClientLink","Dict","UserSelect","views_follow_addFollow","render","_vm","_h","$createElement","_c","_self","attrs","name","staticClass","left-options","backText","_v","_s","ref","isSelect","reqLink","on","placeholder","on-confirm","model","callback","$$v","$set","expression","slot","staticStyle","color","is-link","nativeOn","click","$event","_l","margin-bottom","required","max","trim","_f","imgShowPic","xmlns","width","height","viewBox","d","directives","rawName","_e","touchstart","touchend","font-size","list","on-close","closePic","defaultUser","close","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"uYAkBAA,GACSC,EAAA,EA4FTC,KACAC,WADA,WAEAC,KAAKC,UAAW,GAEhBC,aAJA,SAIaC,GACbH,KAAKI,SAAWD,EAAKE,IAAI,SAAAC,GACzB,OACAC,OAAQD,EAAIE,GACZC,KAAMH,EAAII,WAGVV,KAAKW,SAAWC,KAAKC,MAAMC,IAAeX,IAC1CH,KAAKC,UAAW,EAChBD,KAAKW,SAASN,IAAI,SAAAU,GAClBA,EAAKC,OAASD,EAAKP,IAAMO,EAAKC,OAC9BD,EAAKN,KAAOM,EAAKL,WAGjBO,eAlBA,SAkBed,GACfH,KAAKkB,SAASC,cAAgBhB,EAAKiB,YAEhCC,OAAAC,EAAA,EAAAD,EAAY,qBACfE,WAtBA,WAuBA,IAAKvB,KAAKwB,aAAc,OAAO,EAC/BxB,KAAKyB,QAAQC,MACbC,KAAM,2BAINC,QA7BA,SA6BQtB,KACRuB,YA9BA,aAiCAC,WAjCA,aAkCAC,QAlCA,WAkCU,IAAAC,EAAAhC,KACVA,KAAKiC,SAAL,qCAAmDjC,KAAKkC,KAAOC,KAC/D,SAAAC,GACAJ,EAAKK,QAAS,EACdL,EAAKd,SAALpB,OAAqBsC,EAAIE,MACzBN,EAAKd,SAASqB,aAAeC,IAAMR,EAAKd,SAASqB,cAAcE,OAC/D,oBAEAT,EAAKd,SAASwB,UAAUC,QAAQ,SAAA5B,GAChCA,EAAK6B,IAASC,MAAd,qCACA9B,EAAK+B,SAELd,EAAKe,QAAQrB,KAAKX,KAElBiB,EAAKgB,WAAahB,EAAKd,SAAS+B,cAChCjB,EAAKd,SAASgC,QAAQP,QAAQ,SAAA5B,GAC9BA,EAAKC,OAASD,EAAKR,SAEnByB,EAAKrB,SAAWC,KAAKC,MAAMC,IAAekB,EAAKd,SAASgC,UACxDlB,EAAK5B,SAAWQ,KAAKC,MAAMC,IAAekB,EAAKd,SAASgC,aAIxDC,KAzDA,WAyDO,IAAAC,EAAApD,KACHqD,EAAUC,OAAkBtD,KAAKkB,UACrCf,EAAOH,KAAKuD,MAAMC,OAAOzB,UAgBzB,OAfAsB,EAAQI,WAAatD,EAAKsD,WAC1BJ,EAAQK,WAAavD,EAAKuD,WAC1BL,EAAQX,UAAY1C,KAAK+C,QACrB/C,KAAKgD,WAAWF,SACpBO,EAAQJ,UAAYjD,KAAKgD,kBAElBK,EAAQJ,UAKXI,EAAQJ,YACZI,EAAQM,WAAa,EACrBN,EAAQO,YAAcP,EAAQJ,UAAUY,UAEnCR,EAAQI,WAcRJ,EAAQd,aAORc,EAAQS,cAORT,EAAQlC,eAObkC,EAAQd,cAAgB,MAExBvC,KAAKkB,SAASgC,QAAQP,QAAQ,SAAC5B,EAAMgD,GAEjCX,EAAKzC,SAASqD,KAAK,SAAA7D,GAAA,OAAQA,EAAKa,QAAUD,EAAKR,WAInDQ,EAAKkD,SAAW,KAIhBjE,KAAKW,SAASgC,QAAQ,SAAA5B,GACjBqC,EAAKlC,SAASgC,QAAQc,KAAK,SAAA7D,GAAA,OAAQY,EAAKC,QAAUb,EAAKI,UAC5D6C,EAAKlC,SAASgC,QAAQxB,MACtBlB,GAAI,EACJD,OAAQQ,EAAKC,OACbiD,SAAU,QAINjE,KAAKkE,SAAW,KACpBlE,KAAKkE,UAAY,OACjBlE,KAAKmE,UAAU,yBAA0Bd,GACxClB,KAAK,SAAAC,GACNgB,EAAKgB,KAAKC,MAAMC,MAChBC,KAAM,UACNC,KAAM,SAENpB,EAAKqB,KAAKC,KAAK,UAAU,GACzBtB,EAAKqB,KAAKC,KAAK,WAAW,GAC1BtB,EAAKuB,OAAOC,KAAKC,QAAS,EAC1B,IAAIC,KACJ1B,EAAKlC,SAASgC,QAAQP,QAAQ,SAAA5B,GAE9BqC,EAAK2B,OAAOC,MAAMC,eAAiBlE,EAAKR,QAC7B,GAAXQ,EAAKP,IAELsE,EAAIpD,KAAKX,EAAKR,UAGd6C,EAAK8B,KAAKJ,EAAK1C,EAAIE,MACnBc,EAAKf,QAAS,EACde,EAAK3B,QAAQ0D,SAEZC,MAAM,SAAAC,GACPjC,EAAKc,SAAW,OApDhBlE,KAAKoE,KAAKC,MAAMC,MAChBE,KAAM,UACND,KAAM,UAEC,IAXPvE,KAAKoE,KAAKC,MAAMC,MAChBE,KAAM,UACND,KAAM,UAEC,IAXPvE,KAAKoE,KAAKC,MAAMC,MAChBE,KAAM,UACND,KAAM,UAEC,IAlBPvE,KAAKoE,KAAKC,MAAMC,MAChBE,KAAM,QACND,KAAM,UAEC,IAgFPW,KAhKA,SAgKKlE,EAAQsE,GACb,IAAIC,GACJC,UAAWxE,EACXyE,OAAQ,aACRC,QAAYC,KAAZ,wBACAC,MAAO,OACPC,QAAS,WACTC,QAASR,IAETtF,KAAKmE,UAAatB,MAAlB,oCAA4D0C,GAAKpD,KACjE,SAAAC,OAIA2D,UA9KA,WA8KY,IAAAC,EAAAhG,KACZ,GAAIA,KAAK+C,QAAQkD,QAAU,EAK3B,OAJAjG,KAAKoE,KAAKC,MAAMC,MAChBC,KAAM,OACNC,KAAM,YAEC,EAEQ0B,KAAKC,OAAOJ,YACpBK,aAAa,SAAAzE,GAIpBqE,EAAKK,QAAQ1E,EAAM,GAClBQ,KAAK,SAACC,EAAKkE,GACZN,EAAK5B,KAAKmC,QAAQC,OAClB,IAAIjB,EAAMnD,EAAIE,KAAK,GACnBiD,EAAI1B,SAAWzB,EAAIyB,SACnB0B,EAAI3C,IAASC,MAAb,qCACA0C,EAAIzC,SAEJkD,EAAKjD,QAAQrB,KAAK6D,KAEjBH,MAAM,SAAAC,GACPW,EAAK5B,KAAKmC,QAAQC,OAClB,IAAIC,EAAMpB,EAAIqB,cAAgB,OAC9BV,EAAK5B,KAAKC,MAAMG,KAAKiC,QAKrBE,UA7MA,WA6MY,IAAAC,EAAA5G,KACZ,GAAIA,KAAK+C,QAAQkD,QAAU,EAK3B,OAJAjG,KAAKoE,KAAKC,MAAMC,MAChBC,KAAM,OACNC,KAAM,YAEC,EAEP0B,KAAKW,QAAQC,KACb,SAAAnF,GACAA,EAAKoF,MAAM1G,IAAI,SAAAU,GACf6F,EAAKP,QAAQtF,EAAM,GAClBoB,KAAK,SAAAC,GACNwE,EAAKxC,KAAKmC,QAAQC,OAClB,IAAIjB,EAAMnD,EAAIE,KAAK,GACnBiD,EAAI1B,SAAWzB,EAAIyB,SACnB0B,EAAI3C,IAASC,MAAb,qCACA0C,EAAIzC,SAEJ8D,EAAK7D,QAAQrB,KAAK6D,KAEjBH,MAAM,SAAAC,GACPuB,EAAKxC,KAAKmC,QAAQC,OAClB,IAAIC,EAAMpB,EAAIqB,cAAgB,OAC9BE,EAAKxC,KAAKC,MAAMG,KAAKiC,QAIrB,cAEAO,OAAQ,QACRC,UAAU,EACVC,QAAS,EAAIlH,KAAK+C,QAAQkD,OAC1BkB,QAAQ,KAIRC,OAlPA,SAkPOC,GACP,IAAIC,EAAQtH,KACZA,KAAKoE,KAAKmD,QAAQjD,MAClBkD,QAAS,WACTC,UAFuB,WAGvBH,EAAMvE,QAAQ2E,OAAOL,EAAO,OAK5BM,OA5PA,WA6PA,IAAIL,EAAQtH,KACZA,KAAKoE,KAAKmD,QAAQjD,MAClBkD,QAAS,WACTC,UAFuB,WAGvBH,EAAMtE,kBAIN4E,UArQA,SAqQUC,GAAG,IAAAC,EAAA9H,KACb6H,EAAEE,iBACF,IAAIC,GAAa,IAAIC,KACrBjI,KAAKkI,UAAW,EAChBlI,KAAKmI,cAAgBC,WAAW,WAChCN,EAAK1D,KAAKC,MAAMG,KAAK,cACrBsD,EAAKO,cACF,MAEHrI,KAAKsI,SAASC,QACZC,SAAU,cAAe/F,OAAQ,OACnC,SAAAd,GAEA,IAAI8G,GAAY,IAAIR,KACpB,GAAIQ,EAAWT,EAAY,IAC3BF,EAAK1D,KAAKC,MAAMG,KAAK,oBADrB,CAIA,IAAIkE,EAAcC,KAAKC,MAAMH,EAAWT,GAAa,KACrDF,EAAKzB,QAAQ1E,EAAM,GAClBQ,KAAK,SAAAC,GACN0F,EAAK1D,KAAKmC,QAAQC,OAClB,IAAIjB,EAAMnD,EAAIE,KAAK,GACnBiD,EAAI1B,SAAW6E,EACfnD,EAAI5D,KAAOA,EACXmG,EAAK9E,WAAauC,IAEjBH,MAAM,SAAAC,GACPyC,EAAK1D,KAAKmC,QAAQC,OAClB,IAAIC,EAAMpB,EAAIqB,cAAgB,OAC9BoB,EAAK1D,KAAKC,MAAMG,KAAKiC,OAGrB,SAAApB,GAEAwD,QAAQC,IAAIzD,MAIZgD,WA5SA,WA6SAU,aAAa/I,KAAKmI,eAClBnI,KAAKkI,UAAW,EAChBlI,KAAKsI,SAASU,QAEdC,aAjTA,SAiTatH,EAAMuH,GAAU,IAAAC,EAAAnJ,KACzBkJ,EACJlJ,KAAKoJ,WAAWF,GAEhBlJ,KAAKqJ,SAAS1H,EAAM,eAAeQ,KAAK,SAAAqG,GAAA,OACxCW,EAAKC,WAAWZ,MAKhBY,WA3TA,SA2TWzH,GAAM,IAAA2H,EAAAtJ,KACjB,GAAIA,KAAKuJ,OAGT,OAFAvJ,KAAKuJ,OAAOP,OACZhJ,KAAKuJ,OAAS,MACP,EAEPvJ,KAAKuJ,OAASrD,KAAKsD,MAAMC,aAAa9H,GACtC3B,KAAKuJ,OAAOG,KACZ,WACAJ,EAAKC,OAAOP,OACZM,EAAKC,OAAS,MAGd,SAAA1B,GACAyB,EAAKC,OAAOP,OACZM,EAAKC,OAAS,QAKdlD,QA/UA,SA+UQ1E,EAAM4C,GAAM,IAAAoF,EAAA3J,KACpB,OAAO,IAAA4J,EAAAC,EAAY,SAACC,EAASC,GAC7B,IAAMC,EAAML,EAAKM,YAAY1F,GACzB2F,EAAWhE,KAAKgE,SAASC,aAC7BH,GACEI,OAAQ,OAAQC,UAAW,UAC7B,SAAAC,GACA,IAAIlI,EAAMxB,KAAKC,MAAMyJ,EAAOC,cACX,GAAbnI,EAAIoI,OACRpI,EAAIyB,SAAWyG,EAAOG,UACtBX,EAAQ1H,IAER2H,EAAO3H,KAIHsI,EAAW/I,EAAKgJ,OACpBhJ,EAAKiJ,YAAY,KAAO,EACxBjJ,EAAKsE,OAAStE,EAAKiJ,YAAY,MAE/BV,EAASW,QAAQlJ,GAAQmJ,IAAKJ,IAC9B,IAAIrD,EAAQ,EACZ6C,EAASa,iBACT,eACA,SAACT,EAAQU,GACT,GAAY,GAARzG,GAAa+F,EAAOG,UAAY,SAMpC,OALAd,EAAKvF,KAAKC,MAAMC,MAChBC,KAAM,OACNC,KAAM,eAEN0F,EAASe,SACF,EAEM,GAAT5D,GACJsC,EAAKvF,KAAKmC,QAAQjC,MAClBE,KAAM,QAGN6C,MAGA,GAEA6C,EAASgB,WAIT7B,SA9XA,SA8XS1H,EAAM6G,EAAU5F,GACzB,OAAO,IAAAgH,EAAAC,EAAY,SAACC,EAASC,GAC7B,IAAIC,EAAMpH,GAAUC,MAAV,sCAAqDlB,EAC5CuE,KAAKiF,WAAWC,eACnCpB,GAEAxB,YAEA,SAACa,EAAU2B,GACG,KAAVA,EACJlB,EAAQT,EAASb,UAEjBuB,MAMWmB,aAUXpL,OACGuB,OAAAC,EAAA,EAAAD,EAAU,UAGbgK,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,EAAA,GAtgBAC,QAASrM,EAAA,GACTM,KAFe,WAGf,OACAgM,SACAvK,QADS,SACDwK,MAERlL,UACAuC,WAAY,GACZC,WAAY,GACZnB,aAAcC,IAAM,IAAIyF,MAAQxF,OAAO,oBACvC4J,YAAa,EACbvI,cAAe,EACfwI,cAAe,GACf9L,GAAI,EACJW,cAAe,EACf+B,YAEAY,iBACAyI,aAAc,GACdC,QAEA1B,IAAK,EACL2B,MAAO,SAGP3B,IAAK,EACL2B,MAAO,SAGP3B,IAAK,EACL2B,MAAO,SAGPC,YAAY,EACZC,UACArE,YACAiB,UACApB,iBACAD,UAAU,EACVlF,cACAD,WACA6J,QAAQ,EACR1K,IAAK,EACLV,cAAc,EACdqL,QAAQ,EACR3I,SAAU,EACVjE,UAAU,EACVU,YACAP,YACAiC,QAAQ,IAGRyK,QArDe,WAuDf,IAAIC,EAAQ/M,KAAK2E,OAAOoI,MACxB/M,KAAKwB,cAAgBwL,QAAQD,EAAME,KACnCjN,KAAKkB,SAASuC,WAAasJ,EAAME,IACjCjN,KAAKkB,SAASgM,aAAeH,EAAMI,MACnCnN,KAAKkB,SAASwC,WAAaqJ,EAAMK,MACjCpN,KAAKkB,SAASC,cAAgB4L,EAAMJ,OACpC3M,KAAKkC,IAAM6K,EAAMzH,GACbtF,KAAKkC,KACTlC,KAAK+B,UAEL/B,KAAKsI,SAAWpC,KAAKsD,MAAM6D,cAC3BrN,KAAKuJ,OAAS,MAEd+D,iBApEe,SAoEEC,EAAIC,EAAMC,GAC3BzN,KAAKyE,KAAKiJ,IAAI,kBACM,cAAhBH,EAAGI,WACPJ,EAAG3I,KAAKgJ,WAAY,GAGnB5N,KAAKqC,SACLrC,KAAKkB,SAASuC,aAAczD,KAAKkB,SAASoL,cAa3CmB,IAXAzN,KAAKoE,KAAKmD,QAAQjD,MAClBuJ,MAAO,QACPrG,QAAS,mBACTsG,SAHuB,WAIvBL,GAAK,IAELhG,UANuB,WAOvBgG,QASAM,QAAAjO,KACAC,WADA,WAEAC,KAAKC,UAAW,GAEhBC,aAJA,SAIaC,GACbH,KAAKI,SAAWD,EAAKE,IAAI,SAAAC,GACzB,OACAC,OAAQD,EAAIE,GACZC,KAAMH,EAAII,WAGVV,KAAKW,SAAWC,KAAKC,MAAMC,IAAeX,IAC1CH,KAAKC,UAAW,EAChBD,KAAKW,SAASN,IAAI,SAAAU,GAClBA,EAAKC,OAASD,EAAKP,IAAMO,EAAKC,OAC9BD,EAAKN,KAAOM,EAAKL,WAGjBO,eAlBA,SAkBed,GACfH,KAAKkB,SAASC,cAAgBhB,EAAKiB,YAEhCC,OAAAC,EAAA,EAAAD,EAAY,qBACfE,WAtBA,WAuBA,IAAKvB,KAAKwB,aAAc,OAAO,EAC/BxB,KAAKyB,QAAQC,MACbC,KAAM,2BAINC,QA7BA,SA6BQtB,KACRuB,YA9BA,aAiCAC,WAjCA,aAkCAC,QAlCA,WAkCU,IAAAC,EAAAhC,KACVA,KAAKiC,SAAL,qCAAmDjC,KAAKkC,KAAOC,KAC/D,SAAAC,GACAJ,EAAKK,QAAS,EACdL,EAAKd,SAALpB,OAAqBsC,EAAIE,MACzBN,EAAKd,SAASqB,aAAeC,IAAMR,EAAKd,SAASqB,cAAcE,OAC/D,oBAEAT,EAAKd,SAASwB,UAAUC,QAAQ,SAAA5B,GAChCA,EAAK6B,IAASC,MAAd,qCACA9B,EAAK+B,SAELd,EAAKe,QAAQrB,KAAKX,KAElBiB,EAAKgB,WAAahB,EAAKd,SAAS+B,cAChCjB,EAAKd,SAASgC,QAAQP,QAAQ,SAAA5B,GAC9BA,EAAKC,OAASD,EAAKR,SAEnByB,EAAKrB,SAAWC,KAAKC,MAAMC,IAAekB,EAAKd,SAASgC,UACxDlB,EAAK5B,SAAWQ,KAAKC,MAAMC,IAAekB,EAAKd,SAASgC,aAIxDC,KAzDA,WAyDO,IAAAC,EAAApD,KACHqD,EAAUC,OAAkBtD,KAAKkB,UACrCf,EAAOH,KAAKuD,MAAMC,OAAOzB,UAgBzB,OAfAsB,EAAQI,WAAatD,EAAKsD,WAC1BJ,EAAQK,WAAavD,EAAKuD,WAC1BL,EAAQX,UAAY1C,KAAK+C,QACrB/C,KAAKgD,WAAWF,SACpBO,EAAQJ,UAAYjD,KAAKgD,kBAElBK,EAAQJ,UAKXI,EAAQJ,YACZI,EAAQM,WAAa,EACrBN,EAAQO,YAAcP,EAAQJ,UAAUY,UAEnCR,EAAQI,WAcRJ,EAAQd,aAORc,EAAQS,cAORT,EAAQlC,eAObkC,EAAQd,cAAgB,MAExBvC,KAAKkB,SAASgC,QAAQP,QAAQ,SAAC5B,EAAMgD,GAEjCX,EAAKzC,SAASqD,KAAK,SAAA7D,GAAA,OAAQA,EAAKa,QAAUD,EAAKR,WAInDQ,EAAKkD,SAAW,KAIhBjE,KAAKW,SAASgC,QAAQ,SAAA5B,GACjBqC,EAAKlC,SAASgC,QAAQc,KAAK,SAAA7D,GAAA,OAAQY,EAAKC,QAAUb,EAAKI,UAC5D6C,EAAKlC,SAASgC,QAAQxB,MACtBlB,GAAI,EACJD,OAAQQ,EAAKC,OACbiD,SAAU,QAINjE,KAAKkE,SAAW,KACpBlE,KAAKkE,UAAY,OACjBlE,KAAKmE,UAAU,yBAA0Bd,GACxClB,KAAK,SAAAC,GACNgB,EAAKgB,KAAKC,MAAMC,MAChBC,KAAM,UACNC,KAAM,SAENpB,EAAKqB,KAAKC,KAAK,UAAU,GACzBtB,EAAKqB,KAAKC,KAAK,WAAW,GAC1BtB,EAAKuB,OAAOC,KAAKC,QAAS,EAC1B,IAAIC,KACJ1B,EAAKlC,SAASgC,QAAQP,QAAQ,SAAA5B,GAE9BqC,EAAK2B,OAAOC,MAAMC,eAAiBlE,EAAKR,QAC7B,GAAXQ,EAAKP,IAELsE,EAAIpD,KAAKX,EAAKR,UAGd6C,EAAK8B,KAAKJ,EAAK1C,EAAIE,MACnBc,EAAKf,QAAS,EACde,EAAK3B,QAAQ0D,SAEZC,MAAM,SAAAC,GACPjC,EAAKc,SAAW,OApDhBlE,KAAKoE,KAAKC,MAAMC,MAChBE,KAAM,UACND,KAAM,UAEC,IAXPvE,KAAKoE,KAAKC,MAAMC,MAChBE,KAAM,UACND,KAAM,UAEC,IAXPvE,KAAKoE,KAAKC,MAAMC,MAChBE,KAAM,UACND,KAAM,UAEC,IAlBPvE,KAAKoE,KAAKC,MAAMC,MAChBE,KAAM,QACND,KAAM,UAEC,IAgFPW,KAhKA,SAgKKlE,EAAQsE,GACb,IAAIC,GACJC,UAAWxE,EACXyE,OAAQ,aACRC,QAAYC,KAAZ,wBACAC,MAAO,OACPC,QAAS,WACTC,QAASR,IAETtF,KAAKmE,UAAatB,MAAlB,oCAA4D0C,GAAKpD,KACjE,SAAAC,OAIA2D,UA9KA,WA8KY,IAAAC,EAAAhG,KACZ,GAAIA,KAAK+C,QAAQkD,QAAU,EAK3B,OAJAjG,KAAKoE,KAAKC,MAAMC,MAChBC,KAAM,OACNC,KAAM,YAEC,EAEQ0B,KAAKC,OAAOJ,YACpBK,aAAa,SAAAzE,GAIpBqE,EAAKK,QAAQ1E,EAAM,GAClBQ,KAAK,SAACC,EAAKkE,GACZN,EAAK5B,KAAKmC,QAAQC,OAClB,IAAIjB,EAAMnD,EAAIE,KAAK,GACnBiD,EAAI1B,SAAWzB,EAAIyB,SACnB0B,EAAI3C,IAASC,MAAb,qCACA0C,EAAIzC,SAEJkD,EAAKjD,QAAQrB,KAAK6D,KAEjBH,MAAM,SAAAC,GACPW,EAAK5B,KAAKmC,QAAQC,OAClB,IAAIC,EAAMpB,EAAIqB,cAAgB,OAC9BV,EAAK5B,KAAKC,MAAMG,KAAKiC,QAKrBE,UA7MA,WA6MY,IAAAC,EAAA5G,KACZ,GAAIA,KAAK+C,QAAQkD,QAAU,EAK3B,OAJAjG,KAAKoE,KAAKC,MAAMC,MAChBC,KAAM,OACNC,KAAM,YAEC,EAEP0B,KAAKW,QAAQC,KACb,SAAAnF,GACAA,EAAKoF,MAAM1G,IAAI,SAAAU,GACf6F,EAAKP,QAAQtF,EAAM,GAClBoB,KAAK,SAAAC,GACNwE,EAAKxC,KAAKmC,QAAQC,OAClB,IAAIjB,EAAMnD,EAAIE,KAAK,GACnBiD,EAAI1B,SAAWzB,EAAIyB,SACnB0B,EAAI3C,IAASC,MAAb,qCACA0C,EAAIzC,SAEJ8D,EAAK7D,QAAQrB,KAAK6D,KAEjBH,MAAM,SAAAC,GACPuB,EAAKxC,KAAKmC,QAAQC,OAClB,IAAIC,EAAMpB,EAAIqB,cAAgB,OAC9BE,EAAKxC,KAAKC,MAAMG,KAAKiC,QAIrB,cAEAO,OAAQ,QACRC,UAAU,EACVC,QAAS,EAAIlH,KAAK+C,QAAQkD,OAC1BkB,QAAQ,KAIRC,OAlPA,SAkPOC,GACP,IAAIC,EAAQtH,KACZA,KAAKoE,KAAKmD,QAAQjD,MAClBkD,QAAS,WACTC,UAFuB,WAGvBH,EAAMvE,QAAQ2E,OAAOL,EAAO,OAK5BM,OA5PA,WA6PA,IAAIL,EAAQtH,KACZA,KAAKoE,KAAKmD,QAAQjD,MAClBkD,QAAS,WACTC,UAFuB,WAGvBH,EAAMtE,kBAIN4E,UArQA,SAqQUC,GAAG,IAAAC,EAAA9H,KACb6H,EAAEE,iBACF,IAAIC,GAAa,IAAIC,KACrBjI,KAAKkI,UAAW,EAChBlI,KAAKmI,cAAgBC,WAAW,WAChCN,EAAK1D,KAAKC,MAAMG,KAAK,cACrBsD,EAAKO,cACF,MAEHrI,KAAKsI,SAASC,QACZC,SAAU,cAAe/F,OAAQ,OACnC,SAAAd,GAEA,IAAI8G,GAAY,IAAIR,KACpB,GAAIQ,EAAWT,EAAY,IAC3BF,EAAK1D,KAAKC,MAAMG,KAAK,oBADrB,CAIA,IAAIkE,EAAcC,KAAKC,MAAMH,EAAWT,GAAa,KACrDF,EAAKzB,QAAQ1E,EAAM,GAClBQ,KAAK,SAAAC,GACN0F,EAAK1D,KAAKmC,QAAQC,OAClB,IAAIjB,EAAMnD,EAAIE,KAAK,GACnBiD,EAAI1B,SAAW6E,EACfnD,EAAI5D,KAAOA,EACXmG,EAAK9E,WAAauC,IAEjBH,MAAM,SAAAC,GACPyC,EAAK1D,KAAKmC,QAAQC,OAClB,IAAIC,EAAMpB,EAAIqB,cAAgB,OAC9BoB,EAAK1D,KAAKC,MAAMG,KAAKiC,OAGrB,SAAApB,GAEAwD,QAAQC,IAAIzD,MAIZgD,WA5SA,WA6SAU,aAAa/I,KAAKmI,eAClBnI,KAAKkI,UAAW,EAChBlI,KAAKsI,SAASU,QAEdC,aAjTA,SAiTatH,EAAMuH,GAAU,IAAAC,EAAAnJ,KACzBkJ,EACJlJ,KAAKoJ,WAAWF,GAEhBlJ,KAAKqJ,SAAS1H,EAAM,eAAeQ,KAAK,SAAAqG,GAAA,OACxCW,EAAKC,WAAWZ,MAKhBY,WA3TA,SA2TWzH,GAAM,IAAA2H,EAAAtJ,KACjB,GAAIA,KAAKuJ,OAGT,OAFAvJ,KAAKuJ,OAAOP,OACZhJ,KAAKuJ,OAAS,MACP,EAEPvJ,KAAKuJ,OAASrD,KAAKsD,MAAMC,aAAa9H,GACtC3B,KAAKuJ,OAAOG,KACZ,WACAJ,EAAKC,OAAOP,OACZM,EAAKC,OAAS,MAGd,SAAA1B,GACAyB,EAAKC,OAAOP,OACZM,EAAKC,OAAS,QAKdlD,QA/UA,SA+UQ1E,EAAM4C,GAAM,IAAAoF,EAAA3J,KACpB,OAAO,IAAA4J,EAAAC,EAAY,SAACC,EAASC,GAC7B,IAAMC,EAAML,EAAKM,YAAY1F,GACzB2F,EAAWhE,KAAKgE,SAASC,aAC7BH,GACEI,OAAQ,OAAQC,UAAW,UAC7B,SAAAC,GACA,IAAIlI,EAAMxB,KAAKC,MAAMyJ,EAAOC,cACX,GAAbnI,EAAIoI,OACRpI,EAAIyB,SAAWyG,EAAOG,UACtBX,EAAQ1H,IAER2H,EAAO3H,KAIHsI,EAAW/I,EAAKgJ,OACpBhJ,EAAKiJ,YAAY,KAAO,EACxBjJ,EAAKsE,OAAStE,EAAKiJ,YAAY,MAE/BV,EAASW,QAAQlJ,GAAQmJ,IAAKJ,IAC9B,IAAIrD,EAAQ,EACZ6C,EAASa,iBACT,eACA,SAACT,EAAQU,GACT,GAAY,GAARzG,GAAa+F,EAAOG,UAAY,SAMpC,OALAd,EAAKvF,KAAKC,MAAMC,MAChBC,KAAM,OACNC,KAAM,eAEN0F,EAASe,SACF,EAEM,GAAT5D,GACJsC,EAAKvF,KAAKmC,QAAQjC,MAClBE,KAAM,QAGN6C,MAGA,GAEA6C,EAASgB,WAIT7B,SA9XA,SA8XS1H,EAAM6G,EAAU5F,GACzB,OAAO,IAAAgH,EAAAC,EAAY,SAACC,EAASC,GAC7B,IAAIC,EAAMpH,GAAUC,MAAV,sCAAqDlB,EAC5CuE,KAAKiF,WAAWC,eACnCpB,GAEAxB,YAEA,SAACa,EAAU2B,GACG,KAAVA,EACJlB,EAAQT,EAASb,UAEjBuB,MAMWmB,aAIX8C,SAEAC,OAFS,SAEFtM,GAAoB,IAAduM,EAAcC,UAAAlI,OAAA,QAAAmI,IAAAD,UAAA,GAAAA,UAAA,GAAV,EAAGE,EAAOF,UAAAlI,OAAA,QAAAmI,IAAAD,UAAA,GAAAA,UAAA,GAAH,EACxB,OAAUtL,MAAV,qCAAoDlB,EAApD,MAA8DuM,EAA9D,MAAqEG,IAGrEC,SAAAxO,OACGuB,OAAAC,EAAA,EAAAD,EAAU,UAEbkN,YACAC,QAAAnD,EAAA,EACAoD,MAAAnD,EAAA,EACAoD,KAAAnD,EAAA,EACAoD,OAAAnD,EAAA,EACAoD,SAAAnD,EAAA,EACAoD,WAAAnD,EAAA,EACAoD,YAAAnD,EAAA,EACAoD,UAAAnD,EAAA,EACAoD,QAAAnD,EAAA,EACAoD,UAAAnD,EAAA,EACAoD,WAAAnD,EAAA,EACAoD,KAAAnD,EAAA,EACAoD,WAAAnD,EAAA,KCthBAoD,GADiBC,OAFjB,WAA0B,IAAAC,EAAAvP,KAAawP,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,cAAwBE,OAAOC,KAAA,WAAgBH,EAAA,OAAYI,YAAA,cAAwBJ,EAAA,YAAiBE,OAAOG,gBAAgBC,SAAA,OAAcT,EAAAU,GAAAV,EAAAW,GAAAX,EAAArN,IAAA,qBAAAqN,EAAAU,GAAA,KAAAP,EAAA,OAAgFI,YAAA,cAAwBJ,EAAA,SAAAA,EAAA,eAAgCS,IAAA,SAAAP,OAAoBQ,SAAAb,EAAA/N,aAAAG,KAAA,uBAAAxB,KAAAoP,EAAArO,SAAAmP,SAAA,GAA8FC,IAAKrP,eAAAsO,EAAAtO,kBAAqCsO,EAAAU,GAAA,KAAAP,EAAA,OAAwBI,YAAA,aAAuBJ,EAAA,YAAiBE,OAAOW,YAAA,UAAA9N,OAAA,oBAAoD6N,IAAKE,aAAAjB,EAAA1N,aAA6B4O,OAAQhE,MAAA8C,EAAArO,SAAA,aAAAwP,SAAA,SAAAC,GAA2DpB,EAAAqB,KAAArB,EAAArO,SAAA,eAAAyP,IAA4CE,WAAA,2BAAqCnB,EAAA,OAAYI,YAAA,QAAAF,OAA2BkB,KAAA,SAAeA,KAAA,UAAcpB,EAAA,QAAaqB,aAAaC,MAAA,SAAezB,EAAAU,GAAA,OAAAV,EAAAU,GAAA,8BAAAV,EAAAU,GAAA,KAAAP,EAAA,OAA2EI,YAAA,aAAuBJ,EAAA,eAAoBE,OAAO/B,MAAA,OAAA0C,YAAA,UAAApE,QAAAoD,EAAA/C,OAA2DiE,OAAQhE,MAAA8C,EAAArO,SAAA,YAAAwP,SAAA,SAAAC,GAA0DpB,EAAAqB,KAAArB,EAAArO,SAAA,cAAAyP,IAA2CE,WAAA,0BAAoCnB,EAAA,QAAaqB,aAAaC,MAAA,QAAepB,OAAQkB,KAAA,QAAcA,KAAA,SAAavB,EAAAU,GAAA,OAAAV,EAAAU,GAAA,KAAAP,EAAA,KAAoCI,YAAA,aAAAF,OAAgCkB,KAAA,gBAAsBA,KAAA,iBAAqBvB,EAAAU,GAAA,kBAAAV,EAAAU,GAAA,KAAAP,EAAA,OAAiDI,YAAA,aAAuBJ,EAAA,QAAaE,OAAOrL,KAAA,IAAAsJ,MAAA,OAAA0C,YAAA,WAAkDE,OAAQhE,MAAA8C,EAAArO,SAAA,cAAAwP,SAAA,SAAAC,GAA4DpB,EAAAqB,KAAArB,EAAArO,SAAA,gBAAAyP,IAA6CE,WAAA,6BAAsC,GAAAtB,EAAAU,GAAA,KAAAP,EAAA,OAA4BI,YAAA,aAAuBJ,EAAA,QAAaE,OAAOrL,KAAA,IAAAsJ,MAAA,OAAA0C,YAAA,WAAkDE,OAAQhE,MAAA8C,EAAArO,SAAA,cAAAwP,SAAA,SAAAC,GAA4DpB,EAAAqB,KAAArB,EAAArO,SAAA,gBAAAyP,IAA6CE,WAAA,6BAAsC,GAAAtB,EAAAU,GAAA,KAAAP,EAAA,OAA4BI,YAAA,aAAuBJ,EAAA,QAAaE,OAAO/B,MAAA,QAAAoD,UAAA,IAA6BC,UAAWC,MAAA,SAAAC,GAAyB,OAAA7B,EAAAxP,WAAAqR,OAAgC7B,EAAA8B,GAAA9B,EAAA,kBAAAxO,EAAAsG,GAA6C,OAAAqI,EAAA,QAAkB5E,IAAAzD,IAAUkI,EAAAU,GAAAV,EAAAW,GAAAnP,EAAAN,MAAA8O,EAAAW,GAAA7I,EAAA,GAAAkI,EAAA5O,SAAAsF,OAAA,cAAmF,WAAAsJ,EAAAU,GAAA,KAAAP,EAAA,SAAsCqB,aAAaO,gBAAA,UAAwB5B,EAAA,OAAYI,YAAA,aAAuBJ,EAAA,cAAmBE,OAAO2B,SAAA,GAAAhB,YAAA,UAAAiB,IAAA,KAAiDf,OAAQhE,MAAA8C,EAAArO,SAAA,cAAAwP,SAAA,SAAAC,GAA4DpB,EAAAqB,KAAArB,EAAArO,SAAA,iCAAAyP,IAAAc,OAAAd,IAAoFE,WAAA,6BAAsC,GAAAtB,EAAAU,GAAA,KAAAP,EAAA,OAA4BI,YAAA,WAAqBJ,EAAA,OAAYI,YAAA,kBAA6BP,EAAA8B,GAAA9B,EAAA,iBAAAxO,EAAAsG,GAA2C,OAAAqI,EAAA,OAAiB5E,IAAAzD,EAAAyI,YAAA,eAAmCJ,EAAA,OAAYI,YAAA,WAAqBJ,EAAA,OAAYE,OAAOhN,IAAA2M,EAAAmC,GAAA,SAAAnC,CAAAxO,EAAA+B,WAAsCwN,IAAKa,MAAA,SAAAC,GAAyB7B,EAAAoC,WAAAtK,SAAwBkI,EAAAU,GAAA,KAAAP,EAAA,OAA0BI,YAAA,wCAAAF,OAA2DrL,KAAA,YAAA+B,KAAA,KAAAsL,MAAA,6BAAAC,MAAA,KAAAC,OAAA,KAAAC,QAAA,eAAuHzB,IAAKa,MAAA,SAAAC,GAAyB7B,EAAAnI,OAAAC,OAAoBqI,EAAA,QAAaE,OAAOoC,EAAA,wHAAyHzC,EAAAU,GAAA,KAAAV,EAAAvM,WAAA,SAAA0M,EAAA,OAAmDI,YAAA,mBAA6BJ,EAAA,OAAYI,YAAA,SAAAQ,IAAyBa,MAAA,SAAAC,GAAyB7B,EAAAtG,aAAAsG,EAAAvM,WAAAF,SAAAyM,EAAAvM,WAAArB,UAAgE+N,EAAA,QAAauC,aAAapC,KAAA,OAAAqC,QAAA,SAAAzF,OAAA8C,EAAAhG,OAAAsH,WAAA,YAAsEf,YAAA,YAAwBP,EAAAU,GAAA,KAAAP,EAAA,QAAyBuC,aAAapC,KAAA,OAAAqC,QAAA,SAAAzF,MAAA8C,EAAA,OAAAsB,WAAA,WAAoEf,YAAA,YAAwBP,EAAAU,GAAA,mBAAAV,EAAAW,GAAAX,EAAAvM,WAAAa,UAAA,qBAAA0L,EAAAU,GAAA,KAAAP,EAAA,OAAuGI,YAAA,oDAAAF,OAAuErL,KAAA,oBAAA+B,KAAA,KAAAhB,GAAA,UAAAsM,MAAA,6BAAAC,MAAA,KAAAC,OAAA,KAAAC,QAAA,eAA8IzB,IAAKa,MAAA5B,EAAA5H,UAAoB+H,EAAA,QAAaI,YAAA,MAAAF,OAAyBoC,EAAA,2OAA6OtC,EAAA,QAAaI,YAAA,MAAAF,OAAyBoC,EAAA,4HAA0HzC,EAAA4C,KAAA5C,EAAAU,GAAA,KAAAP,EAAA,KAAmCI,YAAA,SAAmBJ,EAAA,KAAUI,YAAA,+BAAAQ,IAA+Ca,MAAA5B,EAAAxJ,aAAuBwJ,EAAAU,GAAA,KAAAP,EAAA,KAAsBI,YAAA,gCAAAQ,IAAgDa,MAAA5B,EAAA5I,aAAuB4I,EAAAU,GAAA,KAAAP,EAAA,KAAsBI,YAAA,6BAAAQ,IAA6C8B,WAAA,SAAAhB,GAA8B7B,EAAA3H,UAAAwJ,IAAsBiB,SAAA9C,EAAAlH,oBAA4BkH,EAAAU,GAAA,KAAAP,EAAA,OAA8BI,YAAA,YAAsBJ,EAAA,YAAiBE,OAAOrL,KAAA,WAAiB2M,UAAWC,MAAA,SAAAC,GAAyB,OAAA7B,EAAApM,KAAAiO,OAA0B7B,EAAAU,GAAA,gBAAAV,EAAAU,GAAA,KAAAP,EAAA,OAA+CuC,aAAapC,KAAA,OAAAqC,QAAA,SAAAzF,MAAA8C,EAAA,SAAAsB,WAAA,aAAwEf,YAAA,cAA0BJ,EAAA,OAAYI,YAAA,cAAwBP,EAAAU,GAAA,KAAAP,EAAA,OAAwBI,YAAA,WAAqBP,EAAAU,GAAA,OAAAV,EAAAU,GAAA,KAAAP,EAAA,OAAsCI,YAAA,UAAAiB,aAAmCuB,YAAA,UAAoB/C,EAAAU,GAAA,gBAAAV,EAAAU,GAAA,KAAAP,EAAA,aAAqDS,IAAA,YAAAP,OAAuB2C,KAAAhD,EAAAxM,QAAAoJ,QAAAoD,EAAApD,SAAyCmE,IAAKkC,WAAAjD,EAAAkD,YAAyBlD,EAAAU,GAAA,KAAAP,EAAA,eAAgCI,YAAA,eAAyBP,EAAAU,GAAA,KAAAP,EAAA,eAAgCE,OAAOtL,KAAAiL,EAAAtP,SAAA4N,MAAA,QAAA6E,YAAAnD,EAAAnP,UAA+DkQ,IAAKnN,KAAAoM,EAAArP,aAAAyS,MAAA,SAAAvB,GAAiD7B,EAAAtP,UAAA,OAAuB,MAEvwL2S,oBCCjB,IAcAC,EAdAC,EAAA,OAcAC,CACAnT,EACAyP,GATA,EAVA,SAAA2D,GACAF,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/23.b1d83a10f033a227ed8c.js","sourcesContent":["\nimport dayjs from \"dayjs\";\nimport { mapActions, mapState, mapGetters } from \"vuex\";\nimport XHeader from 'vux/src/components/x-header/index.vue'\nimport Group from 'vux/src/components/group/index.vue'\nimport Cell from 'vux/src/components/cell/index.vue'\nimport XInput from 'vux/src/components/x-input/index.vue'\nimport Datetime from 'vux/src/components/datetime/index.vue'\nimport PopupRadio from 'vux/src/components/popup-radio/index.vue'\nimport PopupPicker from 'vux/src/components/popup-picker/index.vue'\nimport XTextarea from 'vux/src/components/x-textarea/index.vue'\nimport XButton from 'vux/src/components/x-button/index.vue'\nimport Previewer from 'vux/src/components/previewer/index.vue'\n\nimport ClientLink from \"@/components/client/client_link\";\nimport Dict from \"@/components/dict\";\nimport UserSelect from \"@/components/User/template\";\nimport { backMixin } from \"@/common/js/picBack\";\nexport default {\nmixins: [backMixin],\ndata() {\nreturn {\noptions: {\nsaveImg(el) {}\n},\nformData: {\nCustomerID: \"\",\nLinkUserID: \"\",\nFollowupDate: dayjs(new Date()).format(\"YYYY-MM-DD HH:mm\"),\nContactType: 0,\nFollowupState: 0,\nResultContent: \"\",\nID: 0,\nCustomerState: 0,\nSenders: []\n},\nFollowupState: [], //选择的跟进结果数组\nLinkUserName: \"\",\ntypes: [\n{\nkey: 0,\nvalue: \"电话联系\"\n},\n{\nkey: 1,\nvalue: \"上门拜访\"\n},\n{\nkey: 2,\nvalue: \"微信联系\"\n}\n],\nisUserShow: false,\ncState: [], //跟进阶段数组\nrecorder: {}, //录音对象\nplayer: {}, //播放对象\nrecorderTimer: {}, //录音时间\nisRecord: false,\nrecordFile: {},\nimgFile: [],\nisPlay: false,\nfId: 0,\nisSelectCust: true, //是否可以选择客户\nisInit: false,\nclickNum: 0,\nuserShow: false,\nuserList: [],\ncheckVal: [],\nisSave: false \n};\n},\nmounted() {\n\nlet query = this.$route.query;\nthis.isSelectCust = !Boolean(query.cId);\nthis.formData.CustomerID = query.cId;\nthis.formData.CustomerName = query.cName;\nthis.formData.LinkUserID = query.cLink;\nthis.formData.CustomerState = query.cState;\nthis.fId = query.id;\nif (this.fId) {\nthis.getData();\n}\nthis.recorder = plus.audio.getRecorder();\nthis.player = null;\n},\nbeforeRouteLeave(to, from, next) {\nthis.$bus.off(\"selectedClient\");\nif (to.fullPath === \"/TaskWork\") {\nto.meta.keepAlive = true;\n}\nif (\n!this.isSave &&\n(this.formData.CustomerID || this.formData.ResultContent)\n) {\nthis.$vux.confirm.show({\ntitle: \"继续退出？\",\ncontent: \"您已编辑过，退出将丢失这些内容！\",\nonCancel() {\nnext(false);\n},\nonConfirm() {\nnext();\n}\n});\n} else {\nnext();\n}\n\n\n},\nmethods: {\nselectUser() {\nthis.userShow = true;\n},\nuserSelected(data) {\nthis.checkVal = data.map(val => {\nreturn {\nUserID: val.ID,\nName: val.OrgName\n};\n});\nthis.userList = JSON.parse(JSON.stringify(data));\nthis.userShow = false;\nthis.userList.map(item => {\nitem.userID = item.ID || item.userID;\nitem.Name = item.OrgName;\n});\n},\nselectedClient(data) {\nthis.formData.CustomerState = data.CustState;\n},\n...mapActions([\"initDictPromise\"]),\nselectCust() {\nif (!this.isSelectCust) return false;\nthis.$router.push({\npath: \"/addFollow/selectCust\"\n});\n},\n\nsaveImg(val) {},\nconfirmDate() {\n\n},\nselectType() {},\ngetData() {\nthis.getAxios(`/Customer/GetCustomerFollowupByID/${this.fId}`).then(\nres => {\nthis.isSave = true;\nthis.formData = { ...res.Data };\nthis.formData.FollowupDate = dayjs(this.formData.FollowupDate).format(\n\"YYYY-MM-DD HH:mm\"\n);\nthis.formData.ImgAttach.forEach(item => {\nitem.src = `${api50}/api/v1/File/DownLoadPic?filePath=${\nitem.FilePath\n}`;\nthis.imgFile.push(item);\n});\nthis.recordFile = this.formData.AmrAttach || {};\nthis.formData.Senders.forEach(item => {\nitem.userID = item.UserID;\n});\nthis.userList = JSON.parse(JSON.stringify(this.formData.Senders));\nthis.checkVal = JSON.parse(JSON.stringify(this.formData.Senders));\n}\n);\n},\nsave() {\nlet saveObj = Object.assign({}, this.formData),\ndata = this.$refs.client.getData();\nsaveObj.CustomerID = data.CustomerID;\nsaveObj.LinkUserID = data.LinkUserID;\nsaveObj.ImgAttach = this.imgFile;\nif (this.recordFile.FilePath) {\nsaveObj.AmrAttach = this.recordFile;\n} else {\ndelete saveObj.AmrAttach;\n}\n/* saveObj.AmrAttach = this.recordFile.FilePath?\nthis.recordFile\n: null;*/\nif (saveObj.AmrAttach) {\nsaveObj.IsHasAudio = 1;\nsaveObj.AudioLength = saveObj.AmrAttach.FileSize;\n}\nif (!saveObj.CustomerID) {\nthis.$vux.toast.show({\ntext: \"请选择客户\",\ntype: \"warn\"\n});\nreturn false;\n}\n\n\n\n\n\n\n\nif (!saveObj.FollowupDate) {\nthis.$vux.toast.show({\ntext: \"请选择跟进时间\",\ntype: \"warn\"\n});\nreturn false;\n}\nif (!saveObj.FollowupState) {\nthis.$vux.toast.show({\ntext: \"请选择跟进阶段\",\ntype: \"warn\"\n});\nreturn false;\n}\nif (!saveObj.CustomerState) {\nthis.$vux.toast.show({\ntext: \"请选择客户状态\",\ntype: \"warn\"\n});\nreturn false;\n}\nsaveObj.FollowupDate += \":00\";\n\nthis.formData.Senders.forEach((item, ind) => {\n\nif (this.userList.find(data => data.userID == item.UserID)) {\n\n} else {\n\nitem.IsDelete = 1;\n}\n});\n\nthis.userList.forEach(item => {\nif (!this.formData.Senders.find(data => item.userID == data.UserID)) {\nthis.formData.Senders.push({\nID: 0,\nUserID: item.userID,\nIsDelete: 0\n});\n}\n});\nif (this.clickNum > 0) return false;\nthis.clickNum += 1;\nthis.postAxios(\"/Customer/SaveFollowUp\", saveObj)\n.then(res => {\nthis.$vux.toast.show({\ntype: \"success\",\ntext: \"保存成功\"\n});\nthis.$bus.emit(\"onSave\", true);\nthis.$bus.emit(\"refrech\", true);\nthis.$route.meta.isBack = true;\nlet ids = [];\nthis.formData.Senders.forEach(item => {\nif (\nthis.$store.state.CurrentUserID != item.UserID &&\nitem.ID == 0\n) {\nids.push(item.UserID);\n}\n});\nthis.send(ids, res.Data);\nthis.isSave = true;\nthis.$router.back();\n})\n.catch(err => {\nthis.clickNum = 0;\n});\n},\n\nsend(userID, id) {\nlet obj = {\nSendUsers: userID,\nEvName: \"crm-follow\",\nImgPath: `${down}/mdtcrm/CRMFollow.jpg`,\nTitle: \"跟进记录\",\nContent: \"您有一条跟进记录\",\nParams: [id]\n};\nthis.postAxios(`${api50}/api/v1/Common/SendSingleEventMsg`, obj).then(\nres => {}\n);\n},\n\ngetCamera() {\nif (this.imgFile.length >= 5) {\nthis.$vux.toast.show({\ntype: \"warn\",\ntext: \"最多上传五张\"\n});\nreturn false;\n}\nconst camera = plus.camera.getCamera();\ncamera.captureImage(path => {\n\n\n\nthis.updated(path, 1)\n.then((res, size) => {\nthis.$vux.loading.hide();\nlet obj = res.Data[0];\nobj.FileSize = res.FileSize;\nobj.src = `${api50}/api/v1/File/DownLoadPic?filePath=${\nobj.FilePath\n}`;\nthis.imgFile.push(obj);\n})\n.catch(err => {\nthis.$vux.loading.hide();\nlet msg = err.ErrorMessage || \"上传失败\";\nthis.$vux.toast.text(msg);\n});\n});\n},\n\nselectPic() {\nif (this.imgFile.length >= 5) {\nthis.$vux.toast.show({\ntype: \"warn\",\ntext: \"最多上传五张\"\n});\nreturn false;\n}\nplus.gallery.pick(\npath => {\npath.files.map(item => {\nthis.updated(item, 1)\n.then(res => {\nthis.$vux.loading.hide();\nlet obj = res.Data[0];\nobj.FileSize = res.FileSize;\nobj.src = `${api50}/api/v1/File/DownLoadPic?filePath=${\nobj.FilePath\n}`;\nthis.imgFile.push(obj);\n})\n.catch(err => {\nthis.$vux.loading.hide();\nlet msg = err.ErrorMessage || \"上传失败\";\nthis.$vux.toast.text(msg);\n});\n});\n},\n() => {},\n{\nfilter: \"image\",\nmultiple: true,\nmaximum: 5 - this.imgFile.length,\nsystem: false\n}\n);\n},\ndelPic(index) {\nlet _this = this;\nthis.$vux.confirm.show({\ncontent: \"确定删除该图片？\",\nonConfirm() {\n_this.imgFile.splice(index, 1);\n}\n});\n},\n\ndelRec() {\nlet _this = this;\nthis.$vux.confirm.show({\ncontent: \"确定删除该录音？\",\nonConfirm() {\n_this.recordFile = {};\n}\n});\n},\ngetRecord(e) {\ne.preventDefault();\nlet startTime = +new Date();\nthis.isRecord = true;\nthis.recorderTimer = setTimeout(() => {\nthis.$vux.toast.text(\"最长只能录制60秒！\");\nthis.stopRecord();\n}, 59000);\n\nthis.recorder.record(\n{ filename: \"_doc/audio/\", format: \"amr\" },\npath => {\n\nlet stopTime = +new Date();\nif (stopTime - startTime < 1000) {\nthis.$vux.toast.text(\"录音时间太短，请长按录音\");\nreturn;\n}\nlet audioLength = Math.ceil((stopTime - startTime) / 1000);\nthis.updated(path, 2)\n.then(res => {\nthis.$vux.loading.hide();\nlet obj = res.Data[0];\nobj.FileSize = audioLength;\nobj.path = path;\nthis.recordFile = obj;\n})\n.catch(err => {\nthis.$vux.loading.hide();\nlet msg = err.ErrorMessage || \"上传失败\";\nthis.$vux.toast.text(msg);\n});\n},\nerr => {\n\nconsole.log(err);\n}\n);\n},\nstopRecord() {\nclearTimeout(this.recorderTimer);\nthis.isRecord = false;\nthis.recorder.stop();\n},\nhandleRecord(path, filePath) {\nif (filePath) {\nthis.playRecord(filePath);\n} else {\nthis.download(path, \"_doc/audio/\").then(filename =>\nthis.playRecord(filename)\n);\n}\n},\n\nplayRecord(path) {\nif (this.player) {\nthis.player.stop();\nthis.player = null;\nreturn false;\n}\nthis.player = plus.audio.createPlayer(path);\nthis.player.play(\n() => {\nthis.player.stop();\nthis.player = null;\n\n},\ne => {\nthis.player.stop();\nthis.player = null;\n}\n);\n},\n\nupdated(path, type) {\nreturn new Promise((resolve, reject) => {\nconst url = this.BillFileUrl(type);\nlet uploader = plus.uploader.createUpload(\nurl,\n{ method: \"POST\", blocksize: 1024 * 1024 * 10 },\nupload => {\nlet res = JSON.parse(upload.responseText);\nif (res.State == 1) {\nres.FileSize = upload.totalSize;\nresolve(res);\n} else {\nreject(res);\n}\n}\n);\nlet fileName = path.substr(\npath.lastIndexOf(\"/\") + 1,\npath.length - path.lastIndexOf(\"/\")\n);\nuploader.addFile(path, { key: fileName });\nlet index = 0;\nuploader.addEventListener(\n\"statechanged\",\n(upload, status) => {\nif (type != 2 && upload.totalSize > 1024 * 1024 * 10) {\nthis.$vux.toast.show({\ntype: \"warn\",\ntext: \"图片大小不超过10M\"\n});\nuploader.abort();\nreturn false;\n} else {\nif (index == 0) {\nthis.$vux.loading.show({\ntext: \"上传中\"\n});\n}\nindex++;\n}\n},\nfalse\n);\nuploader.start();\n});\n},\n\ndownload(path, filename, src) {\nreturn new Promise((resolve, reject) => {\nlet url = src || `${api50}/api/v1/File/DownLoadFile?filePath=${path}`;\nconst downloader = plus.downloader.createDownload(\nurl,\n{\nfilename\n},\n(download, status) => {\nif (status == 200) {\nresolve(download.filename);\n} else {\nreject();\n\n}\n\n}\n);\ndownloader.start();\n});\n}\n},\nfilters: {\n\npicUrl(path, w = 0, h = 0) {\nreturn `${api50}/api/v1/File/DownLoadPic?filePath=${path}&w=${w}&h=${h}`;\n}\n},\ncomputed: {\n...mapState([\"dict\"])\n},\ncomponents: {\nXHeader,\nGroup,\nCell,\nXInput,\nDatetime,\nPopupRadio,\nPopupPicker,\nXTextarea,\nXButton,\nPreviewer,\nClientLink,\nDict,\nUserSelect\n}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/follow/addFollow.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"slide\"}},[_c('div',{staticClass:\"addFollow\"},[_c('x-header',{attrs:{\"left-options\":{backText:''}}},[_vm._v(_vm._s((\"\" + (_vm.fId ? \"修改\" : '新建')))+\"跟进记录\")]),_vm._v(\" \"),_c('div',{staticClass:\"form pt48\"},[_c('group',[_c('client-link',{ref:\"client\",attrs:{\"isSelect\":_vm.isSelectCust,\"path\":\"addFollow/selectCust\",\"data\":_vm.formData,\"reqLink\":false},on:{\"selectedClient\":_vm.selectedClient}}),_vm._v(\" \"),_c('div',{staticClass:\"cellWrap\"},[_c('datetime',{attrs:{\"placeholder\":\"请选择跟进时间\",\"format\":\"YYYY-MM-DD HH:mm\"},on:{\"on-confirm\":_vm.confirmDate},model:{value:(_vm.formData.FollowupDate),callback:function ($$v) {_vm.$set(_vm.formData, \"FollowupDate\", $$v)},expression:\"formData.FollowupDate\"}},[_c('div',{staticClass:\"label\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(\"*\")]),_vm._v(\"跟进时间\\n            \")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"cellWrap\"},[_c('popup-radio',{attrs:{\"title\":\"联系方式\",\"placeholder\":\"请选择联系方式\",\"options\":_vm.types},model:{value:(_vm.formData.ContactType),callback:function ($$v) {_vm.$set(_vm.formData, \"ContactType\", $$v)},expression:\"formData.ContactType\"}},[_c('span',{staticStyle:{\"color\":\"#f00\"},attrs:{\"slot\":\"icon\"},slot:\"icon\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('p',{staticClass:\"radioTitle\",attrs:{\"slot\":\"popup-header\"},slot:\"popup-header\"},[_vm._v(\"选择联系方式\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"cellWrap\"},[_c('dict',{attrs:{\"type\":\"4\",\"title\":\"跟进阶段\",\"placeholder\":\"请选择跟进阶段\"},model:{value:(_vm.formData.FollowupState),callback:function ($$v) {_vm.$set(_vm.formData, \"FollowupState\", $$v)},expression:\"formData.FollowupState\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"cellWrap\"},[_c('dict',{attrs:{\"type\":\"5\",\"title\":\"客户状态\",\"placeholder\":\"请选择客户状态\"},model:{value:(_vm.formData.CustomerState),callback:function ($$v) {_vm.$set(_vm.formData, \"CustomerState\", $$v)},expression:\"formData.CustomerState\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"cellWrap\"},[_c('cell',{attrs:{\"title\":\"选择抄送人\",\"is-link\":\"\"},nativeOn:{\"click\":function($event){return _vm.selectUser($event)}}},[_vm._l((_vm.userList),function(item,index){return _c('span',{key:index},[_vm._v(_vm._s(item.Name)+_vm._s((index+1) == _vm.userList.length ? \"\" : \",\",))])})],2)],1)],1),_vm._v(\" \"),_c('group',{staticStyle:{\"margin-bottom\":\"44px\"}},[_c('div',{staticClass:\"cellWrap\"},[_c('x-textarea',{attrs:{\"required\":\"\",\"placeholder\":\"请填写跟进结果\",\"max\":1000},model:{value:(_vm.formData.ResultContent),callback:function ($$v) {_vm.$set(_vm.formData, \"ResultContent\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formData.ResultContent\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"update\"},[_c('div',{staticClass:\"updatePic flex\"},_vm._l((_vm.imgFile),function(item,index){return _c('div',{key:index,staticClass:\"picBoxWrap\"},[_c('div',{staticClass:\"picBox\"},[_c('img',{attrs:{\"src\":_vm._f(\"picUrl\")(item.FilePath)},on:{\"click\":function($event){_vm.imgShowPic(index)}}})]),_vm._v(\" \"),_c('svg',{staticClass:\"vux-x-icon vux-x-icon-ios-minus close\",attrs:{\"type\":\"ios-minus\",\"size\":\"25\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"25\",\"height\":\"25\",\"viewBox\":\"0 0 512 512\"},on:{\"click\":function($event){_vm.delPic(index)}}},[_c('path',{attrs:{\"d\":\"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm128 217H128v-17h256v17z\"}})])])})),_vm._v(\" \"),(_vm.recordFile.FilePath)?_c('div',{staticClass:\"updateRec flex\"},[_c('div',{staticClass:\"recBox\",on:{\"click\":function($event){_vm.handleRecord(_vm.recordFile.FilePath,_vm.recordFile.path)}}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.player),expression:\"!player\"}],staticClass:\"stopRec\"}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.player),expression:\"player\"}],staticClass:\"playRec\"}),_vm._v(\"\\n              \"+_vm._s(_vm.recordFile.FileSize)+\"s\\n            \")]),_vm._v(\" \"),_c('svg',{staticClass:\"vux-x-icon vux-x-icon-ios-close-outline fileClose\",attrs:{\"type\":\"ios-close-outline\",\"size\":\"18\",\"id\":\"Layer_1\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"18\",\"height\":\"18\",\"viewBox\":\"0 0 512 512\"},on:{\"click\":_vm.delRec}},[_c('path',{staticClass:\"st0\",attrs:{\"d\":\"M403.1 108.9c-81.2-81.2-212.9-81.2-294.2 0s-81.2 212.9 0 294.2c81.2 81.2 212.9 81.2 294.2 0s81.2-213 0-294.2zm-12.3 281.9c-74.3 74.3-195.3 74.3-269.6 0-74.3-74.3-74.3-195.3 0-269.6s195.3-74.3 269.6 0c74.4 74.3 74.4 195.3 0 269.6z\"}}),_c('path',{staticClass:\"st0\",attrs:{\"d\":\"M340.2 160l-84.4 84.2-84-83.8-11.8 11.8 84 83.8-84 83.8 11.8 11.8 84-83.8 84.4 84.2 11.8-11.8-84.4-84.2 84.4-84.2z\"}})])]):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"flex\"},[_c('i',{staticClass:\"flex-1 iconfont icon-paizhao\",on:{\"click\":_vm.getCamera}}),_vm._v(\" \"),_c('i',{staticClass:\"flex-1 iconfont icon-zhaopian\",on:{\"click\":_vm.selectPic}}),_vm._v(\" \"),_c('i',{staticClass:\"flex-1 iconfont icon-luyin\",on:{\"touchstart\":function($event){_vm.getRecord($event)},\"touchend\":_vm.stopRecord}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"saveBtn\"},[_c('x-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.save($event)}}},[_vm._v(\"提交\")])],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isRecord),expression:\"isRecord\"}],staticClass:\"rprogress\"},[_c('div',{staticClass:\"rschedule\"}),_vm._v(\" \"),_c('div',{staticClass:\"r-sigh\"},[_vm._v(\"!\")]),_vm._v(\" \"),_c('div',{staticClass:\"rsalert\",staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"正在录音，请讲话\")])]),_vm._v(\" \"),_c('previewer',{ref:\"previewer\",attrs:{\"list\":_vm.imgFile,\"options\":_vm.options},on:{\"on-close\":_vm.closePic}}),_vm._v(\" \"),_c('router-view',{staticClass:\"selectCust\"}),_vm._v(\" \"),_c('user-select',{attrs:{\"show\":_vm.userShow,\"title\":\"选择抄送人\",\"defaultUser\":_vm.checkVal},on:{\"save\":_vm.userSelected,\"close\":function($event){_vm.userShow = false}}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7cea555a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/follow/addFollow.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7cea555a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addFollow.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addFollow.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./addFollow.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7cea555a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./addFollow.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7cea555a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/follow/addFollow.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}