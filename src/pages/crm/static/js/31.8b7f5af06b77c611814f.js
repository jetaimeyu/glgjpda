webpackJsonp([31],{"2KpU":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("m6Kl");var r=s("LQti"),a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"performance",staticStyle:{overflow:"scroll"}},[s("div",{staticClass:"header"},[s("x-header",{attrs:{"left-options":{backText:""}}},[t._v("业绩排行")])],1),t._v(" "),s("div",[s("FilterSel",{ref:"filterSele",attrs:{types:t.types,formatDate:"YYYY-MM-DD",defaultDate:t.defaultDate},on:{dateQuery:t.selectTime,selectedUser:t.selectUser,selectedParams:t.changeGroup}})],1),t._v(" "),s("div",[s("div",{staticClass:"pro-title txt-cen"},[t._v(t._s(t.chTitle+t.Total.toFixed(2))+"元")]),t._v(" "),s("ul",t._l(t.List,function(e){return s("li",{key:e.ID,staticClass:"pro-item"},[s("img",{attrs:{width:"30px",src:t._f("imgUrl")(e.ID)}}),t._v(" "),s("div",{staticClass:"pro-itleft"},[s("div",{staticStyle:{"word-wrap":"break-word"}},[t._v(t._s(e.Key))]),t._v(" "),s("div",{staticStyle:{"font-size":"12px","word-wrap":"break-word"}},[t._v(t._s(e.Value)+"元")])]),t._v(" "),s("div",{staticClass:"pro-itright"},[s("Progress",{attrs:{height:"20px",percentage:t._f("schedule")(e.Value,t.Total)},nativeOn:{click:function(s){t.toDetails(e.ID,e.Value)}}})],1)])}))])])},staticRenderFns:[]};var i=function(t){s("V5PS")},n=s("VU/8")(r.a,a,!1,i,"data-v-715f4ca4",null);e.default=n.exports},"8sHD":function(t,e,s){var r=s("kM2E"),a=s("KpO7");r(r.S+r.F*(Number.parseInt!=a),"Number",{parseInt:a})},KpO7:function(t,e,s){var r=s("7KvD").parseInt,a=s("mnVu").trim,i=s("hyta"),n=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(t,e){var s=a(String(t),3);return r(s,e>>>0||(n.test(s)?16:10))}:r},LQti:function(t,e,s){"use strict";(function(t,r){var a=s("gBtx"),i=s.n(a),n=s("5dBV"),o=s.n(n),u=s("Dd8w"),l=s.n(u),D=s("ABCa"),c=s("/W8D"),d=s("rUbY"),h=s("5XJp"),f=s("NYxO");e.a={data:function(){return{startDate:""+t().startOf("month").format("YYYY-MM-DD 00:00:00"),endDate:""+t(t().valueOf()+864e5).format("YYYY-MM-DD 00:00:00"),selUserID:null,List:[],Total:0,defaultDate:{beginDate:t().startOf("month").format("YYYY-MM-DD"),endDate:t().format("YYYY-MM-DD")},types:[{type:1,name:"选择分类",notDict:!0,list:[{ID:0,name:"成交总额"},{ID:1,name:"回款总额"}]}],endtimers:""+t().format("YYYY-MM-DD 23:59:59"),groupIndex:0}},computed:l()({},Object(f.e)(["CurrentUserID"]),{params:function(){var t=0===this.selUserID||this.selUserID?this.selUserID:this.CurrentUserID;return{startDate:this.startDate,endDate:this.endDate,selUserID:t}},chTitle:function(){return 0===this.groupIndex?"成交总额 总计：":"回款总额 总计："}}),filters:{schedule:function(t,e){return t?o()((t/e*100).toFixed(2)):0},imgUrl:function(t){return h.a.aImg(t)}},methods:{selectTime:function(e){var s=e.beginDate.replace(/-/g,"/"),r=new Date(s).getTime(),a=e.endDate.replace(/-/g,"/");if(r>new Date(a).getTime())this.$vux.toast.show({type:"warn",text:"开始时间不能大于截止时间"});else if(e.beginDate){this.startDate=e.beginDate+" 00:00:00";var n=a+" 00:00:00";n=i()(new Date(n).getTime())+864e5,this.endDate=t(n).format("YYYY-MM-DD 00:00:00"),this.endtimers=e.endDate+" 23:59:59",this.getList()}else this.$vux.toast.show({type:"warn",text:"请选择时间段"})},getList:function(){var t=this;this.$vux.loading.show({text:"加载中"});r.get(["/CustStatis/GetOrderTotalPriceGroupUser","/CustStatis/GetReturnMeonyGroupUser"][this.groupIndex],{params:this.params}).then(function(e){var s=e.data.Data;t.List=s,t.Total=s.reduce(function(t,e){return t+e.Value},0),setTimeout(function(){t.$vux.loading.hide()},500)})},selectUser:function(t){this.selUserID=t,this.getList()},changeGroup:function(t){this.groupIndex=t.ID,this.getList()},toDetails:function(t,e){e&&(0===this.groupIndex?this.$router.push({path:"/orderDetl",query:{createUserId:t,beginDealDate:this.startDate,endDealDate:this.endtimers,size:e,name:"订单"}}):this.$router.push({path:"/orderDetl",query:{createUserId:t,beginReturnDate:this.startDate,endReturnDate:this.endtimers,size:e,name:"回款"}}))},init:function(){this.startDate=""+t().startOf("month").format("YYYY-MM-DD 00:00:00"),this.endDate=""+t(t().valueOf()+864e5).format("YYYY-MM-DD 00:00:00"),this.defaultDate={beginDate:t().startOf("month").format("YYYY-MM-DD"),endDate:t().format("YYYY-MM-DD")},this.selUserID=0,this.groupIndex=0,this.$refs.filterSele.clearType(),this.getList()}},mounted:function(){this.getList()},watch:{$route:function(t,e){"/statisIndex"===t.path&&this.init()}},components:{XHeader:D.a,Progress:c.a,FilterSel:d.a}}}).call(e,s("oqQY"),s("mtWM"))},V5PS:function(t,e){},gBtx:function(t,e,s){t.exports={default:s("qrpI"),__esModule:!0}},m6Kl:function(t,e,s){"use strict";(function(t,e){var r=s("gBtx"),a=(s.n(r),s("5dBV")),i=(s.n(a),s("Dd8w")),n=s.n(i),o=s("ABCa"),u=s("/W8D"),l=s("rUbY"),D=(s("5XJp"),s("NYxO"));n()({},Object(D.e)(["CurrentUserID"]),{params:function(){var t=0===this.selUserID||this.selUserID?this.selUserID:this.CurrentUserID;return{startDate:this.startDate,endDate:this.endDate,selUserID:t}},chTitle:function(){return 0===this.groupIndex?"成交总额 总计：":"回款总额 总计："}}),o.a,u.a,l.a}).call(e,s("oqQY"),s("mtWM"))},qrpI:function(t,e,s){s("8sHD"),t.exports=s("FeBl").Number.parseInt}});
//# sourceMappingURL=31.8b7f5af06b77c611814f.js.map