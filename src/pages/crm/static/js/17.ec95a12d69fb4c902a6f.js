webpackJsonp([17],{"5NSr":function(e,t){},DYGJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("YxJB"),r=a("3Lt7"),i=a("ABCa"),n=a("UNGY"),o=a("rHil"),c=a("r8Ay"),u=(s.a,r.a,i.a,n.a,o.a,c.a,{components:{Flexbox:s.a,FlexboxItem:r.a,XHeader:i.a,Datetime:n.a,Group:o.a,ReceiveList:c.a},data:function(){return{canAdd:!0,OrderID:0,pageParams:{customerId:0,customerName:"",beginReturnDate:"",endReturnDate:"",page:1,total:10,count:10}}},mounted:function(){this.OrderID=this.$route.query.orderID,this.canAdd=1!=this.$route.query.add},methods:{gotoAddPage:function(){this.$router.push({path:"/addReceive?cid="+this.pageParams.customerId})}}}),d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"slide"}},[a("div",[a("div",{staticClass:"check-list"},[a("x-header",{attrs:{title:"回款管理"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.canAdd,expression:"canAdd"}],attrs:{slot:"right"},slot:"right"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-plus-empty",staticStyle:{position:"absolute",top:"-8px",right:"-8px"},attrs:{type:"ios-plus-empty",size:"30",xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 512 512"},on:{click:function(t){e.gotoAddPage()}}},[a("path",{attrs:{d:"M384 265H264v119h-17V265H128v-17h119V128h17v120h120v17z"}})])])]),e._v(" "),a("div",{staticStyle:{"margin-top":"48px"}},[a("receive-list",{attrs:{orderId:e.OrderID}})],1)],1),e._v(" "),a("router-view")],1)])},staticRenderFns:[]};var l=a("VU/8")(u,d,!1,function(e){a("5NSr")},"data-v-531da9fc",null);t.default=l.exports},r8Ay:function(e,t,a){"use strict";var s=a("Gu7T"),r=a.n(s),i=a("cq2Q"),n=a("YxJB"),o=a("3Lt7"),c=a("ABCa"),u=a("UNGY"),d=a("rHil"),l=a("8pLc"),h=a("rUbY"),p=(i.a,n.a,o.a,c.a,u.a,d.a,l.a,h.a,{name:"receiveList",components:{Scroll:i.a,Flexbox:n.a,FlexboxItem:o.a,XHeader:c.a,Datetime:u.a,Group:d.a,NoData:l.a,Query:h.a},props:{cId:{default:"0"},orderId:{default:0}},data:function(){return{clientList:[],pageParams:{orderId:this.orderId,customerId:0,customerName:"",beginReturnDate:"",endReturnDate:"",page:1,total:10,count:10,createUserId:0},pullUp:{threshold:0,txt:{more:"加载更多",noMore:"没有更多了"}},pullDown:{threshold:50,stop:20},isSort:!1}},mounted:function(){var e=this;this.$nextTick(function(){e.getData()}),this.$bus.on("refreshReceiveList",function(){e.pageParams.page=1,e.getData()}),this.$route.query.beginDate?this.pageParams.beginReturnDate=this.$route.query.beginDate:this.pageParams.beginReturnDate="",this.$route.query.endDate?this.pageParams.endReturnDate=this.$route.query.endDate:this.pageParams.endReturnDate="",-1==this.$route.query.userId?this.pageParams.createUserId=0:this.pageParams.createUserId="",0==this.$route.query.userId?this.pageParams.createUserId=this.$store.state.CurrentUserID:this.pageParams.createUserId=0},beforeDestroy:function(){this.$bus.off("refreshReceiveList")},methods:{init:function(){},gotoAddPage:function(){this.$router.push({path:"/receive/addReceive?cid="+this.pageParams.customerId})},getData:function(e){var t=this,a="/Cost/GetMyReturnedMoney";0!=this.cId&&(a="/Cost/GetPagedCrmReturnedMoney"),1==e&&(this.pageParams.page=1),this.pageParams.customerId=this.cId,this.Axios.get(a,{params:this.pageParams}).then(function(a){var s=a.data.Data.List;s.length>0?(2===e?(t.clientList=[].concat(r()(t.clientList),r()(s)),t.$nextTick(function(){t.$refs.scroll.scroll.finishPullUp()})):(t.clientList=s,t.$nextTick(function(){t.$refs.scroll.scroll.finishPullDown(),t.$refs.scroll.refresh(!0)})),t.pageParams.page+=1,t.$nextTick(function(){t.$refs.scroll.refresh()})):(t.clientList=s,t.$nextTick(function(){t.$refs.scroll.forceUpdate()}))})},dateQuery:function(e){this.pageParams.beginReturnDate=e.beginDate,this.pageParams.endReturnDate=e.endDate,this.pageParams.page=1,this.getData()},selectedUser:function(e){this.pageParams.createUserId=e,this.pageParams.page=1,this.getData()}},watch:{clientList:function(){var e=this;setTimeout(function(){e.$refs.scroll.forceUpdate(!0)},500)},cId:function(){var e=this;this.$nextTick(function(){e.$refs.checkList.style.paddingTop="0"}),this.getData()},orderId:function(e,t){this.pageParams.orderId=e,this.getData()}}}),f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"clientList",staticClass:"check-list1"},[a("Query",{directives:[{name:"show",rawName:"v-show",value:"0"==e.cId||void 0==e.cId,expression:"cId == '0'||cId == undefined"}],attrs:{isClass:!1,placeholder:"请输入联系人"},on:{dateQuery:e.dateQuery,selectedUser:e.selectedUser}}),e._v(" "),a("scroll",{ref:"scroll",staticStyle:{"padding-top":"10px"},attrs:{pullUpLoad:e.pullUp,pullDownRefresh:e.pullDown},on:{pullingUp:function(t){e.getData(2)},pullingDown:function(t){e.getData(1)}}},[a("ul",{directives:[{name:"show",rawName:"v-show",value:e.clientList.length>0,expression:"clientList.length > 0"}]},e._l(e.clientList,function(t,s){return a("li",{key:s,on:{click:function(a){e.$router.push("/receiveInfo?id="+t.ID)}}},[a("flexbox",{staticClass:"check-box",attrs:{orient:"vertical"}},[a("flexbox-item",[a("div",{staticClass:"flex-demo"},[e._v("\n              订单编号："),a("span",[e._v(e._s(t.OrderNumber))])])]),e._v(" "),a("flexbox-item",[a("div",{staticClass:"flex-demo"},[e._v("\n              回款时间："),a("span",[e._v(e._s(t.ReturnDate))])])]),e._v(" "),a("flexbox-item",[a("div",{staticClass:"flex-demo"},[e._v("客户名称："),a("span",[e._v(e._s(t.CustomerName))])])]),e._v(" "),a("flexbox-item",[a("div",{staticClass:"flex-demo"},[e._v("回款金额："),a("span",[e._v(e._s(t.ReturnPrice)+" 元")])])])],1)],1)})),e._v(" "),a("no-data",{directives:[{name:"show",rawName:"v-show",value:0==e.clientList.length,expression:"clientList.length==0"}]})],1),e._v(" "),a("router-view")],1)},staticRenderFns:[]};var m=a("VU/8")(p,f,!1,function(e){a("riR+")},"data-v-00707212",null);t.a=m.exports},"riR+":function(e,t){}});
//# sourceMappingURL=17.ec95a12d69fb4c902a6f.js.map