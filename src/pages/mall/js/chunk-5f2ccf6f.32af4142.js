(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f2ccf6f"],{"0446":function(t,e,s){},"3cc8":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"mine"},[s("van-nav-bar",{attrs:{title:"收货地址选择",fixed:!0,"left-arrow":""},on:{"click-left":function(e){t.$router.back()}}},[s("van-icon",{attrs:{slot:"right",name:"add-o"},nativeOn:{click:function(e){t.$router.push("/mine/receiveAddress")}},slot:"right"})],1),s("van-address-list",{attrs:{list:t.list},on:{edit:t.onEdit},model:{value:t.chosenAddressId,callback:function(e){t.chosenAddressId=e},expression:"chosenAddressId"}}),s("van-button",{attrs:{size:"large",type:"danger"},on:{click:t.exchange}},[t._v("确认兑换")]),s("router-view")],1)},a=[],i=s("6d03"),o=i["a"],c=(s("d74e"),s("2877")),r=Object(c["a"])(o,n,a,!1,null,"7f5eabea",null);r.options.__file="mine.vue";e["default"]=r.exports},"6d03":function(t,e,s){"use strict";(function(t){s("ac6a");var n=s("c93e"),a=(s("cadf"),s("551c"),s("097d"),s("2f62")),i=s("5f4d");e["a"]={name:"mine",mixins:[i["a"]],data:function(){return{chosenAddressId:0,list:[],oldList:[]}},mounted:function(){var t=this;this.getAddress(),this.$bus.on("addAddress",function(){t.getAddress()})},beforeDestroy:function(){this.$bus.off("addAddress")},computed:Object(n["a"])({},Object(a["b"])(["ADDRESS_INFO","DETAILS_ID","INTEGRAL","GOODINTEGRAL"])),methods:Object(n["a"])({},Object(a["c"])({saveAddressInfo:"SAVE_ADDRESS_INFO"}),Object(a["c"])({changeIntegral:"CHANGE_INTEGRAL"}),{onEdit:function(t,e){this.saveAddressInfo(this.oldList[e]),this.$router.push("/mine/receiveAddress")},getAddress:function(){var e=this;this.$toast.loading({mask:!0,message:"加载中..."}),t.get("/api/v1/Reg/ExchangePostAddrListGet").then(function(t){console.log(t.data),e.$toast.clear(),1===t.data.State&&(e.list=[],e.oldList=t.data.Data,t.data.Data.forEach(function(t){e.list.push({id:t.ID,name:t.RecvUserName,tel:t.LinkPhone,address:t.Address})}),0!==e.list.length?e.chosenAddressId=e.list[0].id:e.chosenAddressId=0)}).catch(function(t){console.log(t),e.$toast.clear()})},exchange:function(){var e=this;0!==this.chosenAddressId?this.$dialog.confirm({title:"兑换",message:"确认兑换此商品？"}).then(function(){t.post("/api/v1/Reg/ExchangeProdRecordSave",{ExchangeProdID:e.DETAILS_ID,PostAddrID:e.chosenAddressId}).then(function(t){1===t.data.State?(e.$toast("兑换成功"),e.changeIntegral(e.INTEGRAL-e.GOODINTEGRAL),setTimeout(function(){e.$toast.clear(),e.$router.go(-2)},500)):e.$toast("兑换出现问题"),console.log(t.data)}).catch(function(t){e.$toast.clear(),e.$toast("请检查网络连接")})}).catch(function(){}):this.$toast("请选择或添加一个收货地址")}})}}).call(this,s("bc3a"))},ac6a:function(t,e,s){for(var n=s("cadf"),a=s("0d58"),i=s("2aba"),o=s("7726"),c=s("32e9"),r=s("84f2"),d=s("2b4c"),l=d("iterator"),u=d("toStringTag"),f=r.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},L=a(h),g=0;g<L.length;g++){var A,S=L[g],m=h[S],v=o[S],I=v&&v.prototype;if(I&&(I[l]||c(I,l,f),I[u]||c(I,u,S),r[S]=f,m))for(A in n)I[A]||i(I,A,n[A],!0)}},d74e:function(t,e,s){"use strict";var n=s("0446"),a=s.n(n);a.a}}]);
//# sourceMappingURL=chunk-5f2ccf6f.32af4142.js.map