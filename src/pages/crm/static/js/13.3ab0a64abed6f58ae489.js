webpackJsonp([13],{DXmI:function(t,s){},MVRq:function(t,s,e){"use strict";var a=e("piuB"),i=(a.b,Number,{name:"button-tab",mixins:[a.b],props:{height:Number}}),n={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"vux-button-group"},[this._t("default")],2)},staticRenderFns:[]};var o=e("VU/8")(i,n,!1,function(t){e("DXmI")},null,null);s.a=o.exports},V0DB:function(t,s,e){"use strict";var a=e("piuB"),i=(a.a,{name:"button-tab-item",mixins:[a.a],computed:{classes:function(){return{"vux-button-group-current":this.currentIndex===this.$parent.currentIndex,"vux-button-tab-item-first":0===this.currentIndex,"vux-button-tab-item-last":this.currentIndex===this.$parent.$children.length-1,"vux-button-tab-item-middle":this.currentIndex>0&&this.currentIndex!==this.$parent.$children.length-1}},style:function(){if(this.$parent.height)return{height:this.$parent.height+"px",lineHeight:this.$parent.height+"px"}}}}),n={render:function(){var t=this.$createElement;return(this._self._c||t)("a",{staticClass:"vux-button-tab-item",class:this.classes,style:this.style,attrs:{href:"javascript:"},on:{click:this.onItemClick}},[this._t("default")],2)},staticRenderFns:[]},o=e("VU/8")(i,n,!1,null,null,null);s.a=o.exports},YQrp:function(t,s){},fVMf:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("Dd8w"),i=e.n(a),n=e("oqQY"),o=e.n(n),r=e("NYxO"),c=e("YxJB"),l=e("3Lt7"),u=e("63CM"),f=e("ABCa"),h=e("Msp2"),v=e("MVRq"),m=e("V0DB"),p=e("rLAy"),d=e("Bfwr"),C=e("2FOq"),_=e("lzuW"),D=(_.a,c.a,l.a,f.a,h.a,v.a,m.a,p.a,d.a,C.a,u.a,i()({},Object(r.e)(["isMyClient","isAdmin"]),{getorderid:function(){return this.$store.state.customerName}}),{mixins:[_.a],components:{Flexbox:c.a,FlexboxItem:l.a,XHeader:f.a,Actionsheet:h.a,ButtonTab:v.a,ButtonTabItem:m.a,Toast:p.a,Loading:d.a,Previewer:C.a},directives:{TransferDom:u.a},data:function(){return{showMenus:!1,isShow:!1,menus:{menu1:"修改",menu2:"删除"},menuDelete:{delete:'<span style="color:red">删除</span>'},formData:{},CostInfoDate:"",CostInfoType:"",fId:"",menuHide:!1,ifChange:!1,options:{saveImg:function(t){}}}},mounted:function(){var t=this;this.fId=this.$route.params.id,this.getData(),this.$bus.on("onSave",function(){t.getData(),t.$bus.emit("refrechCostList",!0)})},beforeDestroy:function(){this.$bus.off("onSave")},methods:{goto:function(){var t="/cost/newCost";"支出"==this.CostInfoType&&(t="/reimbursement"),this.$route.path.lastIndexOf("client")>=0&&(t="/client/clientDetails/newCost","支出"==this.CostInfoType&&(t="/client/clientDetails/reimbursement"));var s=this.fId;this.$router.push({path:t,query:{id:s}})},getData:function(){var t=this;this.$vux.loading.show({text:"加载中..."}),this.getAxios("/Cost/GetCrmCostRecordByID/"+this.fId).then(function(s){t.formData=i()({},s.Data),1==t.formData.CostType&&(t.CostInfoType="收入"),2==t.formData.CostType&&(t.CostInfoType="支出"),t.formData.CostDate&&(t.CostInfoDate=o()(t.formData.CostDate).format("YYYY-MM-DD")),t.formData.ImgAttach=t.formData.ImgAttach||[],t.formData.ImgAttach.forEach(function(t){t.src=api50+"/api/v1/File/DownLoadPic?filePath="+t.FilePath}),t.$vux.loading.hide()})},onDelete:function(){var t=this.formData.ID,s=this;this.$vux.confirm.show({content:"确定删除该条数据？",onConfirm:function(){s.ifChange=!0,s.postAxios("/Cost/DeleteCrmCostRecord/"+t).then(function(t){s.$vux.toast.show({text:"删除成功",type:"success"}),setTimeout(function(){s.$vux.toast.hide(),s.$bus.emit("refrechCostList",!0),s.$router.back()},500)})}})},isDel:function(t){return this.isAdmin||(t?(new Date).getTime()-new Date(t.replace(/-/g,"/")).getTime()<=864e5:"")}},watch:{getorderid:function(t,s){console.log("最新值"+t+"--旧值"+s)}},filters:{picUrl:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return api50+"/api/v1/File/DownLoadPic?filePath="+t+"&w="+s+"&h="+e}},computed:i()({},Object(r.e)(["isMyClient","isAdmin"]),{getorderid:function(){return this.$store.state.customerName}})}),g={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"slide"}},[e("div",{staticClass:"orderInfo"},[e("x-header",{staticStyle:{display:"filex",top:"0"},attrs:{"left-options":{backText:""}}},[t._v("收支详情\n      "),t._v(" "),t.$store.state.isMyClient?e("div",{staticClass:"topHeard",attrs:{slot:"right"},slot:"right"},[e("i",{staticClass:"iconfont icon-gengduo",staticStyle:{"font-size":"20px"},on:{click:function(s){t.isShow=!0}}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"topList"},[e("p",{on:{click:function(s){t.goto(),t.isShow=!1}}},[t._v("修改")]),t._v(" "),t.isDel(t.formData.CreateDate)?e("p",{on:{click:function(s){t.onDelete(),t.isShow=!1}}},[t._v("删除")]):t._e()]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"topModal",on:{click:function(s){t.isShow=!1}}})]):t._e()]),t._v(" "),e("div",{staticStyle:{"margin-top":"46px"}},[e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v("收支类型")]),e("span",{staticClass:"right"},[t._v(t._s(t.CostInfoType))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v("金额")]),e("span",{staticClass:"right"},[t._v(t._s(t.formData.CostMoney))])]),t._v(" "),"支出"==this.CostInfoType?e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v("是否报销")]),e("span",{staticClass:"right"},[t._v(t._s(1==t.formData.IsExpense?"是":"否"))])]):t._e(),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v("收支日期")]),e("span",{staticClass:"right"},[t._v(t._s(t.CostInfoDate))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v("费用名称")]),e("span",{staticClass:"right"},[t._v(t._s(t.formData.CostClassName))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v("客户名称")]),e("span",{staticClass:"right"},[t._v(t._s(t.formData.CustomerName))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v("联系人")]),e("span",{staticClass:"right"},[t._v(t._s(t.formData.LinkUserName))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v("录入人")]),e("span",{staticClass:"right"},[t._v(t._s(t.formData.CreateUserName))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v("录入时间")]),e("span",{staticClass:"right"},[t._v(t._s(t.formData.CreateDate))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"left"},[t._v("客户所有者")]),e("span",{staticClass:"right"},[t._v(t._s(t.formData.SaleChiefName))])]),t._v(" "),e("div",{staticClass:"remark"},[e("div",{staticClass:"left"},[t._v("说明")]),t._v(" "),e("div",{staticClass:"right",staticStyle:{"text-align":"left"}},[t._v(t._s(t.formData.Description))])]),t._v(" "),e("div",{staticClass:"updatePic flex"},t._l(t.formData.ImgAttach,function(s,a){return e("div",{key:a,staticClass:"picBoxWrap"},[e("div",{staticClass:"picBox"},[e("img",{attrs:{src:t._f("picUrl")(s.FilePath)},on:{click:function(s){t.imgShowPic(a)}}})])])}))]),t._v(" "),e("previewer",{ref:"previewer",attrs:{list:t.formData.ImgAttach,options:t.options},on:{"on-close":t.closePic}})],1)])},staticRenderFns:[]};var x=e("VU/8")(D,g,!1,function(t){e("YQrp")},"data-v-3f7513d6",null);s.default=x.exports}});
//# sourceMappingURL=13.3ab0a64abed6f58ae489.js.map