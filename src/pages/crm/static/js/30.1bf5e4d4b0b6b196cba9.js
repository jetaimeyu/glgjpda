webpackJsonp([30],{"8sHD":function(t,e,s){var a=s("kM2E"),i=s("KpO7");a(a.S+a.F*(Number.parseInt!=i),"Number",{parseInt:i})},CoGD:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("FCDY");var a=s("YiVi"),i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product",staticStyle:{overflow:"scroll"}},[s("div",{staticClass:"header"},[s("x-header",{attrs:{"left-options":{backText:""}}},[t._v("产品销量")])],1),t._v(" "),s("div",[s("FilterSel",{ref:"filterSele",attrs:{types:t.types,formatDate:"YYYY-MM-DD",defaultDate:t.defaultDate},on:{dateQuery:t.selectTime,selectedUser:t.selectUser,selectedParams:t.changeGroup}})],1),t._v(" "),s("div",{ref:"clientList"},[s("scroll",{ref:"scroll",staticStyle:{height:"100%"},attrs:{pullUpLoad:t.pullUp,pullDownRefresh:t.pullDown},on:{pullingUp:t.listPullup,pullingDown:t.listPulldown}},[s("div",[s("div",{staticClass:"pro-title txt-cen"},[t._v(t._s(t.tabTextIndex?"成交数量共":"成交总额共")+" "+t._s(t.Total.toFixed(2))+t._s(t.tabTextIndex?"件":"元"))]),t._v(" "),s("ul",t._l(t.List,function(e){return s("li",{key:e.ID,staticClass:"pro-item"},[s("div",{staticClass:"pro-itleft"},[s("div",{staticStyle:{"word-wrap":"break-word"}},[t._v(t._s(e.Value)+t._s(t.tabTextIndex?"件":"元"))]),t._v(" "),s("div",{staticStyle:{"word-wrap":"break-word"}},[t._v(t._s(e.Key))])]),t._v(" "),s("div",{staticClass:"pro-itright"},[s("Progress",{attrs:{height:"20px",percentage:t._f("schedule")(e.Value,t.Total)},nativeOn:{click:function(s){t.toDetails(e.ID,e.Value)}}})],1)])}))])])],1)])},staticRenderFns:[]};var r=function(t){s("PEd1")},n=s("VU/8")(a.a,i,!1,r,"data-v-253134aa",null);e.default=n.exports},FCDY:function(t,e,s){"use strict";(function(t,e){var a=s("Gu7T"),i=(s.n(a),s("gBtx")),r=(s.n(i),s("5dBV")),n=(s.n(r),s("Dd8w")),l=s.n(n),o=s("ABCa"),c=s("/W8D"),u=s("rUbY"),h=s("cq2Q"),D=s("NYxO");o.a,c.a,u.a,h.a,l()({},Object(D.e)(["CurrentUserID"]),{params:function(){var t=0===this.selUserID||this.selUserID?this.selUserID:this.CurrentUserID;return{queryType:this.tabTextIndex+1,startDate:this.startDate,endDate:this.endDate,pageindex:this.pageindex,selUserID:t}}})}).call(e,s("oqQY"),s("mtWM"))},KpO7:function(t,e,s){var a=s("7KvD").parseInt,i=s("mnVu").trim,r=s("hyta"),n=/^[-+]?0[xX]/;t.exports=8!==a(r+"08")||22!==a(r+"0x16")?function(t,e){var s=i(String(t),3);return a(s,e>>>0||(n.test(s)?16:10))}:a},PEd1:function(t,e){},YiVi:function(t,e,s){"use strict";(function(t,a){var i=s("Gu7T"),r=s.n(i),n=s("gBtx"),l=s.n(n),o=s("5dBV"),c=s.n(o),u=s("Dd8w"),h=s.n(u),D=s("ABCa"),d=s("/W8D"),f=s("rUbY"),p=s("cq2Q"),Y=s("NYxO");e.a={data:function(){return{tabTextIndex:0,List:[],Total:0,startDate:""+t().startOf("month").format("YYYY-MM-DD 00:00:00"),endDate:""+t(t().valueOf()+864e5).format("YYYY-MM-DD 00:00:00"),pullUp:{threshold:0,txt:{more:"加载更多",noMore:"没有更多了"}},pullDown:{threshold:50,stop:20},pageindex:1,selUserID:null,defaultDate:{beginDate:t().startOf("month").format("YYYY-MM-DD"),endDate:t().format("YYYY-MM-DD")},endtimers:""+t().format("YYYY-MM-DD 23:59:59"),types:[{type:1,name:"选择分类",notDict:!0,list:[{ID:0,name:"按成交总额统计"},{ID:1,name:"按成交数量统计"}]}]}},components:{XHeader:D.a,Progress:d.a,FilterSel:f.a,scroll:p.a},computed:h()({},Object(Y.e)(["CurrentUserID"]),{params:function(){var t=0===this.selUserID||this.selUserID?this.selUserID:this.CurrentUserID;return{queryType:this.tabTextIndex+1,startDate:this.startDate,endDate:this.endDate,pageindex:this.pageindex,selUserID:t}}}),filters:{schedule:function(t,e){return 0===t?0:c()((t/e*100).toFixed(2))}},methods:{selectTime:function(e){var s=e.beginDate.replace(/-/g,"/"),a=new Date(s).getTime(),i=e.endDate.replace(/-/g,"/");if(a>new Date(i).getTime())this.$vux.toast.show({type:"warn",text:"开始时间不能大于截止时间"});else if(e.beginDate){this.startDate=e.beginDate+" 00:00:00";var r=i+" 00:00:00";r=l()(new Date(r).getTime())+864e5,this.endDate=t(r).format("YYYY-MM-DD 00:00:00"),this.endtimers=e.endDate+" 23:59:59",this.changeParamsInit(),this.getList()}else this.$vux.toast.show({type:"warn",text:"请选择时间段"})},getList:function(t){var e=this;this.$vux.loading.show({text:"加载中"});a.get("/ProdStatis/GetProdStatis",{params:this.params}).then(function(s){var a=s.data.Data;e.List=t?[].concat(r()(e.List),r()(a.List)):a.List,e.Total=a.Total,e.$refs.scroll.forceUpdate(),setTimeout(function(){e.$vux.loading.hide()},500)})},listPullup:function(){this.pageindex++,this.getList(2),this.$refs.scroll.scroll.finishPullUp(),this.$refs.scroll.refresh()},listPulldown:function(){this.pageindex=1,this.getList(),this.$refs.scroll.scroll.finishPullDown(),this.$refs.scroll.refresh()},selectUser:function(t){this.selUserID=t,this.changeParamsInit(),this.getList()},init:function(){var e=document.body.clientHeight;this.$refs.clientList.style.height=e-77+"px",this.pageindex=1,this.startDate=""+t().startOf("month").format("YYYY-MM-DD 00:00:00"),this.endDate=""+t(t().valueOf()+864e5).format("YYYY-MM-DD 00:00:00"),this.defaultDate={beginDate:t().startOf("month").format("YYYY-MM-DD"),endDate:t().format("YYYY-MM-DD")},this.selUserID=0,this.tabTextIndex=0,this.$refs.filterSele.clearType(),this.getList()},changeGroup:function(t){this.tabTextIndex=t.ID,this.changeParamsInit(),this.getList()},changeParamsInit:function(){this.pageindex=1,this.$refs.scroll.scrollTo(0,0,100)},toDetails:function(t,e){e&&this.$router.push({path:"/prodectDetails",query:{prodId:t,beginDealDate:this.startDate,endDealDate:this.endtimers,createUserId:this.selUserID}})}},mounted:function(){this.init()},watch:{$route:function(t,e){"/statisIndex"===t.path&&this.init()}}}}).call(e,s("oqQY"),s("mtWM"))},gBtx:function(t,e,s){t.exports={default:s("qrpI"),__esModule:!0}},qrpI:function(t,e,s){s("8sHD"),t.exports=s("FeBl").Number.parseInt}});
//# sourceMappingURL=30.1bf5e4d4b0b6b196cba9.js.map